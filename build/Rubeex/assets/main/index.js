window.__require=function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AdManager:[function(t,e){"use strict";cc._RF.push(e,"8d515YP+RtP2KXVOZDa0utO","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink;var t="Rubeex";window.openAdUrl?(console.log(t),window.openAdUrl(t)):window.open()}}),cc._RF.pop()},{}],Arthur:[function(t,e,o){"use strict";cc._RF.push(e,"0f134pUqUxIraV/OASqIm3r","Arthur");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero"),s=t("../enemy"),a=cc._decorator,l=a.ccclass,p=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.skill1=function(){var t=this;this.anim.play("skill2"),cc.audioEngine.play(this.skill1Sound,!1,1),this.scheduleOnce(function(){var e=t.damage;t.enemyArr[0]&&t.enemyArr[0].getComponent(s.default).attacked(e)},.2)},e.prototype.skill2=function(){this.anim.play("skill2")},c([l],e)}(r.default));o.default=p,cc._RF.pop()},{"../enemy":"enemy","./hero":"hero"}],ChestListener:[function(t,e,o){"use strict";cc._RF.push(e,"cf42aYP49lJC7Ot/vSeV8zJ","ChestListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePlay=null,e.isEnd=!1,e.isDelay=!1,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("Game21")},e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(t){var e=this;0==this.isEnd?t.node.getComponent("heroListener")&&(console.log("haveChest"),this.node.getComponent("Chest").clickChest()):t.node.getComponent("heroListener")&&(console.log("end task"),globalThis.gold>=500?(this.node.getComponent(cc.CircleCollider).enabled=!1,this.gamePlay.onEndGame()):this.isDelay||(this.node.getComponent("Chest").notEnoughGold(),this.isDelay=!0,this.scheduleOnce(function(){e.isDelay=!1},.7)))},c([a(cc.Boolean)],e.prototype,"isEnd",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Chest:[function(t,e,o){"use strict";cc._RF.push(e,"9fab3/PvPZEMrurmDmn/82u","Chest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.current=0,e.gamePlay=null,e.tag=0,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("Game21")},e.prototype.clickChest=function(){var t=this;globalThis.gold>=this.current?(this.node.getComponent(cc.CircleCollider).enabled=!1,console.log("clickchest"),globalThis.gold-=this.current,this.gamePlay.clickChest(this.tag),this.scheduleOnce(function(){var e=t.node.children[0].getChildByName("chest");t.node.children[0].getChildByName("icon").active=!1,t.node.children[0].getChildByName("New Label").active=!1,t.node.children[0].getChildByName("bang").active=!1,e.getComponent(cc.Sprite).setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",e.getComponent(cc.Sprite)))},.6)):this.notEnoughGold()},e.prototype.notEnoughGold=function(){this.node.getComponent(cc.Animation).play()},c([a(cc.Integer)],e.prototype,"current",void 0),c([a(cc.Integer)],e.prototype,"tag",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Circle:[function(t,e,o){"use strict";cc._RF.push(e,"d6454C1o/5IrbFDTrPsrykv","Circle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetHero=null,e.enemyArr=[],e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("Game21")},e.prototype.checkAtk=function(){if(this.enemyArr.length>0){console.log("atk",this.gamePlay.arrHero);for(var t=0,e=this.gamePlay.arrHero;t<e.length;t++)(i=e[t]).getComponent(r.default).enemyArr=this.enemyArr,i.getComponent(r.default).attack(this.enemyArr[0])}else for(var o=0,n=this.gamePlay.arrHero;o<n.length;o++){var i;(i=n[o]).getComponent(r.default).stop()}},e.prototype.onCollisionEnter=function(t){"circleUpdate"==t.node.name&&(t.node.color=cc.Color.GREEN,t.node.parent.getComponent("house").checkUpdate())},e.prototype.onCollisionExit=function(t){"circleUpdate"==t.node.name&&(t.node.color=cc.Color.WHITE)},e.prototype.onCollisionStay=function(t){"circleUpdate"==t.node.name&&t.node.parent.getComponent("house").checkUpdate()},e.prototype.removeEnemy=function(t){var e=this;if(this.enemyArr.forEach(function(o,n){o._id==t&&e.enemyArr.splice(n,1)}),0==this.enemyArr.length)for(var o=0,n=this.gamePlay.arrHero;o<n.length;o++)n[o].getComponent(r.default).stop()},e.prototype.update=function(){this.node.position=this.targetHero.position},c([l(cc.Node)],e.prototype,"targetHero",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./hero":"hero"}],Constant:[function(t,e,o){"use strict";cc._RF.push(e,"934d3QUS1hFOIjCPakyv9Vg","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constant=o.ELEMENT=void 0,o.ELEMENT={ABYSS:"abyss",DARK:"dark",FIRE:"fire",LIGHT:"light",NATURE:"nature",WATER:"water"},o.Constant={EVENT:{ENEMY_DIE:"ENEMY_DIE",END_GAME:"END_GAME",CHANGE_SPEED:"CHANGE_SPEED",SPAWN_ENEMY:"SPAWN_ENEMY",COUNT_GEM:"COUNT_GEM"}},cc._RF.pop()},{}],EventHeroListener:[function(t,e,o){"use strict";cc._RF.push(e,"b7d1epbIZBFY4N/wqTMWOgH","EventHeroListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.eventListener=function(){},e.prototype.eventComplete=function(t){this.target.getComponent("hero").eventComplete(t)},c([a(cc.Node)],e.prototype,"target",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Game17:[function(t,e,o){"use strict";cc._RF.push(e,"c5530IHa71PDI81ZFhiutm7","Game17");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../hero/hero"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boss=null,e.listBoss=[],e.mainCamera=null,e.hero=null,e.goku=null,e.kazetsu=null,e.arthur=null,e.heroNode=null,e.enemylist=null,e.bossBloodBar=null,e.scene1=null,e.coinBar=null,e.preDamage=null,e.preFxAtk=null,e.listEnemy=null,e.linkToStore=null,e.bgSOund=null,e.soundWoodin=null,e.soundWoodOut=null,e.soundEnd=null,e.soundEnemyDie=null,e.soundUpdate=null,e.soundBtn=null,e.JoyStick=null,e.MissionBar=null,e.listRuby=null,e.uiNode=null,e.endGameNode=null,e.preMeat=null,e.tranScreen=null,e.listScreen=[],e.listCard=null,e.listHero=null,e.guild=null,e.textNameBoss=null,e.bloodBoss=null,e.isMoving=!1,e.isvertical=!1,e.heroComp=null,e.isPauseGame=!1,e.isCountEnemiesDie=0,e.isPhase2=!1,e.isSound=!1,e.isMain=null,e.isEndGame=!1,e.isCountFollow=0,e.isCountBoss=0,e.isCountUnlock=0,e.isCountHeroDie=0,e.isFirst=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){this.reponsive(),cc.audioEngine.play(this.bgSOund,!0,.4),this.isMain=this.heroComp,cc.director.getCollisionManager().enabled=!0,this.heroComp=this.hero.getComponent(r.default),this.setPosHero()},e.prototype.offJoyStick=function(){this.JoyStick.active=!1,this.JoyStick.getComponent("JoyStick").touchEndEvent()},e.prototype.onJoyStick=function(){this.JoyStick.active=!0},e.prototype.startGame=function(){this.isCountBoss++,this.boss.getComponent(cc.CircleCollider).enabled=!0,this.boss.getChildByName("range").getComponent(cc.CircleCollider).enabled=!0;var t=[cc.v3(-142,-10),cc.v3(0,-100),cc.v3(-126,-115)];3==this.isCountBoss&&(console.log("game"),t=[cc.v3(-190,-5),cc.v3(-59,-69),cc.v3(198,-14)]),this.kazetsu.getComponent(r.default).moveToPos(t[1],1),this.arthur.getComponent(r.default).moveToPos(t[0],1),this.goku.getComponent(r.default).moveToPos(t[2],1)},e.prototype.btn_battle=function(t){t.currentTarget.getComponent(cc.Button).enabled=!1,this.listCard.active=!1,this.guild.active=!0,this.onJoyStick(),cc.audioEngine.play(this.soundBtn,!1,1)},e.prototype.countDie=function(){this.isCountEnemiesDie++,this.isCountEnemiesDie<3?(this.tranScreen.getComponent(cc.Animation).play(),this.openNewMap(this.isCountEnemiesDie)):3==this.isCountEnemiesDie&&(this.endGameNode.active=!0,this.linkToStore.active=!0,cc.audioEngine.play(this.soundEnd,!1,1))},e.prototype.openNewMap=function(t){var e=this;switch(this.offJoyStick(),t){case 1:this.scheduleOnce(function(){e.listScreen[0].active=!1,e.listScreen[1].active=!0,e.kazetsu.getComponent(r.default).setDefault(),e.goku.getComponent(r.default).setDefault(),e.arthur.getComponent(r.default).setDefault(),e.hero.position=cc.v3(-99,-277),e.arthur.position=cc.v3(-238,-261),e.kazetsu.position=cc.v3(-43,-351),e.goku.position=cc.v3(-170,-405)},.5),this.JoyStick.getComponent("JoyStick").offGuide=!1,this.boss=this.listBoss[0],this.textNameBoss.string="CHIMERA";break;case 2:this.scheduleOnce(function(){e.listScreen[1].active=!1,e.listScreen[2].active=!0,e.kazetsu.getComponent(r.default).setDefault(),e.goku.getComponent(r.default).setDefault(),e.arthur.getComponent(r.default).setDefault(),e.hero.position=cc.v3(5,-270),e.arthur.position=cc.v3(-155,-292),e.kazetsu.position=cc.v3(-7,-377),e.goku.position=cc.v3(187,-352)},.5),this.JoyStick.getComponent("JoyStick").offGuide=!1,this.boss=this.listBoss[1],this.textNameBoss.string="DARK OCTOPUS"}this.boss.getComponent("enemy").blood=this.bloodBoss,this.scheduleOnce(function(){e.bloodBoss.fillRange=1},.2),this.scheduleOnce(function(){e.onJoyStick()},1.5)},e.prototype.countHeroDie=function(){this.isCountHeroDie++,4==this.isCountHeroDie&&this.onEndGame()},e.prototype.setPosHero=function(){cc.v3(-367,-986),cc.v3(-375,-895),cc.v3(-309,-819),cc.v3(-370,-1009),this.kazetsu.getComponent(r.default).gamePlay=this,this.arthur.getComponent(r.default).gamePlay=this,this.goku.getComponent(r.default).gamePlay=this,this.heroComp.addFollow(this.arthur),this.heroComp.addFollow(this.kazetsu),this.heroComp.addFollow(this.goku)},e.prototype.initTouchEvent=function(){this.scene1.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.scene1.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.moveHeroToBoss=function(){this.heroComp.moveByPos(cc.v3(80,50),.3),this.kazetsu.getComponent(r.default).moveByPos(cc.v3(400,50),.3),this.goku.getComponent(r.default).moveByPos(cc.v3(100,50),.3)},e.prototype.touchEndEvent=function(t){var e=this,o=t.getLocation();o=(o=this.boss.parent.convertToNodeSpaceAR(o)).add(this.mainCamera.node.position),this.boss.position.add(cc.v3(0,80)),this.boss.position.sub(o).mag()<=300&&(console.log("atk boss"),cc.tween(this.boss.children[0]).to(.1,{color:cc.Color.RED}).to(.1,{color:cc.Color.WHITE}).start(),0==this.isFirst&&(this.isFirst=!0,this.scheduleOnce(function(){e.boss.getChildByName("hand").active=!1},1),this.moveHeroToBoss()),this.createDamageBoss(o))},e.prototype.spawEnenmy=function(){},e.prototype.onEndGame=function(){this.isEndGame||(this.isEndGame=!0,cc.audioEngine.play(this.soundEnd,!1,1),this.endGameNode.active=!0,this.linkToStore.active=!0)},e.prototype.createMeat=function(t){var e=cc.instantiate(this.preMeat);e.parent=this.node,e.position=t,e.scale=.8},e.prototype.createDamage=function(t){var e=this;0==this.isSound&&(this.isSound=!0,cc.audioEngine.play(this.soundEnemyDie,!1,1),this.scheduleOnce(function(){e.isSound=!1},.15));var o=Math.floor(200*Math.random())-100,n=Math.floor(100*Math.random())+80,i=cc.instantiate(this.preFxAtk);i.parent=this.node,i.position=t.add(cc.v3(o,n)),i.scale=1.2;var c=cc.instantiate(this.preDamage);c.parent=this.node,c.position=t.add(cc.v3(o,n));var r=Math.floor(1e3*Math.random());c.scale=2,c.zIndex=cc.macro.MAX_ZINDEX;var s=r+1e3;c.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD"),s>1200&&(c.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD")),s>1500&&(c.getChildByName("count").color=(new cc.Color).fromHEX("#C53528")),c.getChildByName("count").getComponent(cc.Label).string="-"+s.toString()},e.prototype.createDamageBoss=function(t){var e=this;0==this.isSound&&(this.isSound=!0,cc.audioEngine.play(this.soundEnemyDie,!1,1),this.scheduleOnce(function(){e.isSound=!1},.15));var o=cc.instantiate(this.preDamage);o.parent=this.node,o.position=t;var n=Math.floor(1e3*Math.random());o.scale=2.5;var i=n+1e3;o.getChildByName("count").color=(new cc.Color).fromHEX("#F87A33"),o.getChildByName("count").getComponent(cc.Label).string="-"+i.toString(),this.boss.getComponent("enemy").attacked(300);var c=cc.instantiate(this.preFxAtk);c.parent=this.node,c.position=t,c.scale=1.4},e.prototype.moveWood=function(t){var e=this;cc.audioEngine.play(this.soundWoodin,!1,1);var o=this.MissionBar.position;o=o.add(cc.v3(-50,0));var n=t.parent.convertToWorldSpaceAR(t.position);n=this.uiNode.convertToNodeSpaceAR(n),t.parent=this.uiNode,t.scale*=1.3,t.position=n.add(cc.v3(-this.mainCamera.node.position.x,-this.mainCamera.node.position.y)),cc.tween(t).to(.4,{position:o}).call(function(){e.MissionBar.getComponent("updateBar").updateBar(),t.getComponent(cc.Animation).play("exp"),cc.audioEngine.play(e.soundWoodOut,!1,1)}).start()},e.prototype.reponsive=function(){},e.prototype.update=function(){},c([l(cc.Node)],e.prototype,"boss",void 0),c([l(cc.Node)],e.prototype,"listBoss",void 0),c([l(cc.Camera)],e.prototype,"mainCamera",void 0),c([l(cc.Node)],e.prototype,"hero",void 0),c([l(cc.Node)],e.prototype,"goku",void 0),c([l(cc.Node)],e.prototype,"kazetsu",void 0),c([l(cc.Node)],e.prototype,"arthur",void 0),c([l(cc.Node)],e.prototype,"heroNode",void 0),c([l(cc.Node)],e.prototype,"enemylist",void 0),c([l(cc.Node)],e.prototype,"bossBloodBar",void 0),c([l(cc.Node)],e.prototype,"scene1",void 0),c([l(cc.Node)],e.prototype,"coinBar",void 0),c([l(cc.Prefab)],e.prototype,"preDamage",void 0),c([l(cc.Prefab)],e.prototype,"preFxAtk",void 0),c([l(cc.Node)],e.prototype,"listEnemy",void 0),c([l(cc.Node)],e.prototype,"linkToStore",void 0),c([l(cc.AudioClip)],e.prototype,"bgSOund",void 0),c([l(cc.AudioClip)],e.prototype,"soundWoodin",void 0),c([l(cc.AudioClip)],e.prototype,"soundWoodOut",void 0),c([l(cc.AudioClip)],e.prototype,"soundEnd",void 0),c([l(cc.AudioClip)],e.prototype,"soundEnemyDie",void 0),c([l(cc.AudioClip)],e.prototype,"soundUpdate",void 0),c([l(cc.AudioClip)],e.prototype,"soundBtn",void 0),c([l(cc.Node)],e.prototype,"JoyStick",void 0),c([l(cc.Node)],e.prototype,"MissionBar",void 0),c([l(cc.Node)],e.prototype,"listRuby",void 0),c([l(cc.Node)],e.prototype,"uiNode",void 0),c([l(cc.Node)],e.prototype,"endGameNode",void 0),c([l(cc.Prefab)],e.prototype,"preMeat",void 0),c([l(cc.Node)],e.prototype,"tranScreen",void 0),c([l(cc.Node)],e.prototype,"listScreen",void 0),c([l(cc.Node)],e.prototype,"listCard",void 0),c([l(cc.Node)],e.prototype,"listHero",void 0),c([l(cc.Node)],e.prototype,"guild",void 0),c([l(cc.Label)],e.prototype,"textNameBoss",void 0),c([l(cc.Sprite)],e.prototype,"bloodBoss",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../hero/hero":"hero"}],Game21:[function(t,e,o){"use strict";cc._RF.push(e,"f8946kv3XFKoJpl24s1ht7I","Game21");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),globalThis.gold=0,globalThis.wood=10;var r=t("../hero/hero"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrow=null,e.circle=null,e.mainCamera=null,e.mainCamera2=null,e.hero=null,e.kazetsu=null,e.arthur=null,e.lucia=null,e.mako=null,e.mechaman=null,e.auriel=null,e.listChest=null,e.heroNode=null,e.coinBar=null,e.preDamage=null,e.preBonus=null,e.preFxAtk=null,e.preCoin=null,e.preWood=null,e.preEnemies=null,e.preEnemies2=null,e.listEnemy=null,e.linkToStore=null,e.bgSOund=null,e.soundGem=null,e.soundCard=null,e.soundComfirm=null,e.soundEnd=null,e.soundEnemyDie=null,e.soundUpdate=null,e.soundBtn=null,e.soundput=null,e.JoyStick=null,e.uiNode=null,e.endGameNode=null,e.preMeat=null,e.listHero=null,e.guild=null,e.house1=null,e.logo=null,e.currency=null,e.preEnemyDie=null,e.boss=null,e.listEnemy2=null,e.block=null,e.fxtele=null,e.fxXuatHien=null,e.bloodBar=null,e.chest=null,e.adChanel="Rubeex",e.isMoving=!1,e.isvertical=!1,e.heroComp=null,e.isPauseGame=!1,e.isCountEnemiesDie=0,e.isSound=!1,e.isMain=null,e.isEndGame=!1,e.isCountFollow=0,e.isCountHero=0,e.arrHero=[],e.listArrPos=[cc.v3(-91,-10),cc.v3(-101,46),cc.v3(94,78),cc.v3(94,-44)],e.isPhase2=!1,e.isUdcircle=0,e.isCountUnlock=0,e.isCountHeroDie=0,e.isScale=1,e.isMag=0,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.arrHero.push(this.hero)},e.prototype.start=function(){var t=this;"Mintegral"==this.adChanel&&window.gameReady&&window.gameReady(),cc.audioEngine.play(this.bgSOund,!0,.4),this.isMain=this.heroComp,cc.director.getCollisionManager().enabled=!0,this.heroComp=this.hero.getComponent(r.default),this.isMoving=!0,cc.tween(this.mainCamera.node).delay(1.2).to(.5,{position:this.hero.position.add(cc.v3(50,50))}).delay(.3).call(function(){t.guild.active=!0,t.JoyStick.active=!0,t.isMoving=!1}).start(),cc.tween(this.mainCamera2.node).delay(1.2).to(.5,{position:this.hero.position.add(cc.v3(50,50))}).delay(.3).call(function(){t.guild.active=!0,t.JoyStick.active=!0,t.isMoving=!1}).start()},e.prototype.showRuong=function(){},e.prototype.phase2=function(){var t=this;this.offJoyStick(),console.log("check"),this.isMoving=!0,this.boss.active=!0,this.listEnemy2.active=!0,this.listEnemy.active=!1;for(var e=function(t){if(1==t.active){var e=cc.instantiate(o.fxtele);e.parent=o.node,e.position=t.position,o.scheduleOnce(function(){t.opacity=0},.3)}},o=this,n=0,i=this.arrHero;n<i.length;n++)e(i[n]);cc.tween(this.logo).by(.2,{opacity:-255,position:cc.v3(0,-100)}).start(),cc.tween(this.currency).by(.2,{opacity:-255,position:cc.v3(0,-100)}).start(),cc.tween(this.circle).to(.3,{opacity:0}).start(),this.scheduleOnce(function(){t.isMag=100,cc.tween(t.mainCamera.node).to(.7,{position:cc.v3(1100+t.isMag,950)}).call(function(){}).start(),cc.tween(t.mainCamera2.node).to(.7,{position:cc.v3(1100+t.isMag,950)}).call(function(){}).start(),cc.tween(t.mainCamera).by(.7,{zoomRatio:-.25}).start(),cc.tween(t.mainCamera2).by(.7,{zoomRatio:-.25}).start(),t.scheduleOnce(function(){t.bloodBar.active=!0,t.hero.position=cc.v3(1050,900),t.block.active=!0,t.isMoving=!1,t.house1.active=!1,t.scheduleOnce(function(){t.circle.opacity=255;for(var e=function(e){if(1==e.active){console.log("move");var o=cc.instantiate(t.fxXuatHien);o.parent=t.node,o.position=e.position,t.scheduleOnce(function(){e.opacity=255},.3)}},o=0,n=t.arrHero;o<n.length;o++)e(n[o]);t.onJoyStick()},.2),t.scheduleOnce(function(){}),t.isPhase2=!0},.7)},.3)},e.prototype.onBoss=function(){this.boss.getComponent(cc.CircleCollider).enabled=!0,this.boss.getChildByName("range").getComponent(cc.CircleCollider).enabled=!0},e.prototype.spawEnemy1=function(){var t=this;this.spawEnemies(20),this.scheduleOnce(function(){t.spawEnemies(30)},2),this.scheduleOnce(function(){t.spawEnemies(30)},4)},e.prototype.spawEnemies=function(t){for(var e=0;e<t;e++){var o,n=Math.floor(-400*Math.random())+Math.floor(400*Math.random()),i=Math.floor(-550*Math.random())+Math.floor(550*Math.random()),c=Math.floor(2*Math.random())+1;o=e%2==0?this.hero.position.add(cc.v3(n+20*e,c%2==0?-550-10*e:550+10*e)):this.hero.position.add(cc.v3(c%2==0?-400-10*e:400+10*e,i+20*e));var r=this.createEnemy("enemy1",o);r.getComponent("enemy").freeze=!1,r.getComponent("enemy").run()}},e.prototype.createEnemy=function(t,e){var o=null;return o=0==Math.floor(2*Math.random())?cc.instantiate(this.preEnemies):cc.instantiate(this.preEnemies2),this.listEnemy.addChild(o),o.setPosition(e),o},e.prototype.updateHouse=function(t){var e=this;this.offJoyStick(),cc.audioEngine.play(this.soundput,!1,1),this.arrow.active=!1;for(var o=function(o){n.scheduleOnce(function(){var n=cc.instantiate(e.preWood);n.parent=e.node,n.position=e.hero.position,n.scale=.5;var i=cc.v2(n.x,n.y),c=e.house1.parent.convertToWorldSpaceAR(e.house1.position);c=e.node.convertToNodeSpaceAR(c);var r=cc.v2((i.x+c.x)/2,(i.y+c.y)/2+400);cc.tween(n).bezierTo(.5,i,r,cc.v2(c.x,c.y+200)).call(function(){switch(n.destroy(),e.house1.getComponent("house").isUpdate){case 0:globalThis.wood--;break;case 1:globalThis.gold-=4;break;case 2:globalThis.gold-=16}e.house1.getComponent("house").updateValue(),o==t-1&&(cc.audioEngine.play(e.soundEnd,!1,1),e.onJoyStick(),e.house1.getComponent("house").updateHouse())}).start(),cc.tween(n).to(.5,{scale:.7}).start()},.05*o)},n=this,i=0;i<t;i++)o(i)},e.prototype.updateHouse2=function(t){var e=this;this.offJoyStick(),cc.audioEngine.play(this.soundput,!1,1);for(var o=function(o){n.scheduleOnce(function(){var n=cc.instantiate(e.preMeat);n.parent=e.node,n.position=e.hero.position,n.scale=.5;var i=cc.v2(n.x,n.y),c=e.house1.parent.convertToWorldSpaceAR(e.house1.position);c=e.node.convertToNodeSpaceAR(c);var r=cc.v2((i.x+c.x)/2,(i.y+c.y)/2+400);cc.tween(n).bezierTo(.5,i,r,cc.v2(c.x,c.y+200)).call(function(){switch(n.destroy(),e.house1.getComponent("house").isUpdate){case 2:globalThis.gold-=2}e.house1.getComponent("house").updateValue(),o==t-1&&(e.onJoyStick(),cc.audioEngine.play(e.soundEnd,!1,1),e.house1.getComponent("house").updateHouse())}).start(),cc.tween(n).to(.5,{scale:.7}).start()},.05*o)},n=this,i=0;i<t;i++)o(i)},e.prototype.addHero=function(){console.log("add Hero"),this.isCountHero>3||(cc.audioEngine.play(this.soundCard,!1,.8),this.offJoyStick())},e.prototype.btn_Claim=function(t,e){var o=this;cc.audioEngine.play(this.soundComfirm,!1,.8);var n=this.listArrPos[this.isCountHero];this.isCountHero++;var i=null;switch(e){case"1":i=this.lucia,this.scheduleOnce(function(){o.phase2()},.3);break;case"2":i=this.kazetsu;break;case"3":i=this.mechaman;break;case"4":i=this.arthur;break;case 5:i=this.mako}this.arrHero.push(i),i.getComponent("hero").localPos=n,i.position=this.hero.position.add(n),i.active=!0,this.onJoyStick();var c=.12;0!=this.isUdcircle?c=.02:this.spawEnemy1(),this.isUdcircle++,this.house1.getComponent("house").isMoving=!1,console.log("ud"),cc.tween(this.circle).by(.2,{scale:c}).start()},e.prototype.clickChest=function(t){this.offJoyStick(),this.transCoin(t)},e.prototype.transCoin=function(t){var e=this;console.log("transcoin");for(var o=this.listChest.children[t-1],n=function(t){i.scheduleOnce(function(){cc.audioEngine.play(e.soundGem,!1,.5);var n=cc.instantiate(e.preCoin);n.position=e.hero.position,n.parent=e.node,n.scale=0;var i=cc.v2(e.hero.x,e.hero.y),c=cc.v2(o.x,o.y),r=cc.v2((i.x+c.x)/2,(i.y+c.y)/2+400);cc.tween(n).to(.3,{scale:1}).start(),cc.tween(n).bezierTo(.3,i,r,c).call(function(){n.destroy(),7==t&&e.addHero()}).start()},.12*t)},i=this,c=0;c<8;c++)n(c)},e.prototype.offJoyStick=function(){this.JoyStick.active=!1,this.JoyStick.getComponent("JoyStick").touchEndEvent()},e.prototype.onJoyStick=function(){this.JoyStick.active=!0},e.prototype.startGame=function(){this.hero.getComponent(cc.Collider).enabled=!0,this.circle.getComponent(cc.PolygonCollider).enabled=!0},e.prototype.countDie=function(t){this.isCountEnemiesDie++,this.createCoin(t);var e=cc.instantiate(this.preEnemyDie);e.parent=this.node,e.position=t},e.prototype.createCoin=function(t){for(var e=this,o=function(o){var i=cc.instantiate(n.preCoin);i.scale,i.scale=0,t=n.listEnemy.convertToWorldSpaceAR(t),t=n.hero.convertToNodeSpaceAR(t),i.parent=n.hero,cc.tween(i).delay(.15*o).call(function(){cc.audioEngine.play(e.soundGem,!1,.5)}).set({active:!0,scale:0,position:t}).to(.1,{scale:.5}).to(.4,{position:cc.v3(0,50)}).call(function(){globalThis.gold+=5,i.destroy();var t=cc.instantiate(e.preBonus);t.parent=e.hero,t.position=cc.v3(0,50),t.scaleX=e.hero.scaleX>0?1:-1}).start()},n=this,i=0;i<1;i++)o(i)},e.prototype.countHeroDie=function(){this.isCountHeroDie++},e.prototype.moveHeroToBoss=function(){this.heroComp.moveByPos(cc.v3(80,50),.3),this.kazetsu.getComponent(r.default).moveByPos(cc.v3(400,50),.3)},e.prototype.spawEnenmy=function(){},e.prototype.onEndGame=function(){this.isEndGame||(this.isEndGame=!0,this.linkToStore.active=!0,this.offJoyStick())},e.prototype.createMeat=function(t){var e=cc.instantiate(this.preMeat);e.parent=this.node,e.position=t,e.scale=.8},e.prototype.createDamage=function(t){var e=this;0==this.isSound&&(this.isSound=!0,cc.audioEngine.play(this.soundEnemyDie,!1,1),this.scheduleOnce(function(){e.isSound=!1},.15)),Math.floor(200*Math.random()),Math.floor(100*Math.random());var o=cc.instantiate(this.preFxAtk);o.parent=this.node,o.position=t.add(cc.v3(0,0)),o.scale=1;var n=cc.instantiate(this.preDamage);n.parent=this.node,n.position=t.add(cc.v3(0,0));var i=Math.floor(1e3*Math.random());n.scale=1.5,n.zIndex=cc.macro.MAX_ZINDEX;var c=i+1e3;n.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD"),c>1200&&(n.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD")),c>1500&&(n.getChildByName("count").color=(new cc.Color).fromHEX("#C53528")),n.getChildByName("count").getComponent(cc.Label).string="-"+c.toString()},e.prototype.createDamageBoss=function(t){var e=this;0==this.isSound&&(this.isSound=!0,cc.audioEngine.play(this.soundEnemyDie,!1,1),this.scheduleOnce(function(){e.isSound=!1},.15));var o=Math.floor(200*Math.random())-100,n=Math.floor(100*Math.random())+80,i=cc.instantiate(this.preFxAtk);i.parent=this.node,i.position=t.add(cc.v3(o,n+100)),i.scale=1;var c=cc.instantiate(this.preDamage);c.parent=this.node,c.position=t.add(cc.v3(o,n+100));var r=Math.floor(1e3*Math.random());c.scale=2,c.zIndex=cc.macro.MAX_ZINDEX;var s=r+1e3;c.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD"),s>1200&&(c.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD")),s>1500&&(c.getChildByName("count").color=(new cc.Color).fromHEX("#C53528")),c.getChildByName("count").getComponent(cc.Label).string="-"+s.toString()},e.prototype.bossDie=function(t){var e=this;this.offJoyStick(),this.chest.active=!0,this.isMoving=!0,this.scheduleOnce(function(){var o=cc.instantiate(e.preEnemyDie);o.parent=e.node,o.position=t,o.scale=4,e.linkToStore.active=!0,e.chest.getChildByName("hand").active=!0},.3),cc.tween(this.mainCamera.node).to(.4,{position:cc.v3(1360,1200)}).start(),cc.tween(this.mainCamera2.node).to(.4,{position:cc.v3(1360,1200)}).start(),cc.tween(this.mainCamera).by(.4,{zoomRatio:.8}).start(),cc.tween(this.mainCamera2).by(.4,{zoomRatio:.8}).start(),cc.tween(this.bloodBar).by(.3,{opacity:-255,position:cc.v3(0,80)}).call(function(){e.bloodBar.active=!1}).start()},e.prototype.reponsive=function(){},e.prototype.update=function(){this.isMoving||(this.mainCamera.node.setPosition(this.hero.position.add(cc.v3(50+this.isMag,50))),this.mainCamera2.node.setPosition(this.hero.position.add(cc.v3(50+this.isMag,50))));var t=cc.view.getFrameSize();t.width,t.width<t.height?(this.isvertical||(this.isvertical=!0),this.isScale=1,this.logo.scale=.9,this.currency.scale=1,this.logo.position=cc.v3(-200,500),this.currency.position=cc.v3(236,550),this.mainCamera.node.active=!0,this.mainCamera2.node.active=!1,t.height/t.width<1.35&&(this.logo.position=cc.v3(-200,419),this.currency.position=cc.v3(236,474))):(this.isvertical=!1,this.currency.scale=1.3,this.isScale=1.3,this.mainCamera.node.active=!1,this.mainCamera2.node.active=!0,this.logo.scale=1.2,this.logo.position=cc.v3(-450,419),this.currency.position=cc.v3(500,474))},c([l(cc.Node)],e.prototype,"arrow",void 0),c([l(cc.Node)],e.prototype,"circle",void 0),c([l(cc.Camera)],e.prototype,"mainCamera",void 0),c([l(cc.Camera)],e.prototype,"mainCamera2",void 0),c([l(cc.Node)],e.prototype,"hero",void 0),c([l(cc.Node)],e.prototype,"kazetsu",void 0),c([l(cc.Node)],e.prototype,"arthur",void 0),c([l(cc.Node)],e.prototype,"lucia",void 0),c([l(cc.Node)],e.prototype,"mako",void 0),c([l(cc.Node)],e.prototype,"mechaman",void 0),c([l(cc.Node)],e.prototype,"auriel",void 0),c([l(cc.Node)],e.prototype,"listChest",void 0),c([l(cc.Node)],e.prototype,"heroNode",void 0),c([l(cc.Node)],e.prototype,"coinBar",void 0),c([l(cc.Prefab)],e.prototype,"preDamage",void 0),c([l(cc.Prefab)],e.prototype,"preBonus",void 0),c([l(cc.Prefab)],e.prototype,"preFxAtk",void 0),c([l(cc.Prefab)],e.prototype,"preCoin",void 0),c([l(cc.Prefab)],e.prototype,"preWood",void 0),c([l(cc.Prefab)],e.prototype,"preEnemies",void 0),c([l(cc.Prefab)],e.prototype,"preEnemies2",void 0),c([l(cc.Node)],e.prototype,"listEnemy",void 0),c([l(cc.Node)],e.prototype,"linkToStore",void 0),c([l(cc.AudioClip)],e.prototype,"bgSOund",void 0),c([l(cc.AudioClip)],e.prototype,"soundGem",void 0),c([l(cc.AudioClip)],e.prototype,"soundCard",void 0),c([l(cc.AudioClip)],e.prototype,"soundComfirm",void 0),c([l(cc.AudioClip)],e.prototype,"soundEnd",void 0),c([l(cc.AudioClip)],e.prototype,"soundEnemyDie",void 0),c([l(cc.AudioClip)],e.prototype,"soundUpdate",void 0),c([l(cc.AudioClip)],e.prototype,"soundBtn",void 0),c([l(cc.AudioClip)],e.prototype,"soundput",void 0),c([l(cc.Node)],e.prototype,"JoyStick",void 0),c([l(cc.Node)],e.prototype,"uiNode",void 0),c([l(cc.Node)],e.prototype,"endGameNode",void 0),c([l(cc.Prefab)],e.prototype,"preMeat",void 0),c([l(cc.Node)],e.prototype,"listHero",void 0),c([l(cc.Node)],e.prototype,"guild",void 0),c([l(cc.Node)],e.prototype,"house1",void 0),c([l(cc.Node)],e.prototype,"logo",void 0),c([l(cc.Node)],e.prototype,"currency",void 0),c([l(cc.Prefab)],e.prototype,"preEnemyDie",void 0),c([l(cc.Node)],e.prototype,"boss",void 0),c([l(cc.Node)],e.prototype,"listEnemy2",void 0),c([l(cc.Node)],e.prototype,"block",void 0),c([l(cc.Prefab)],e.prototype,"fxtele",void 0),c([l(cc.Prefab)],e.prototype,"fxXuatHien",void 0),c([l(cc.Node)],e.prototype,"bloodBar",void 0),c([l(cc.Node)],e.prototype,"chest",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../hero/hero":"hero"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"b94ebH0ncNCRrcLi74sFldk","Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCamera=null,e.hero=null,e.preDamage=null,e.preBonusAmmo=null,e.statusAtk=null,e.endcard=null,e.linkToStore=null,e.isPauseGame=!1,e.heroComp=null,e.isCountDie=0,e.isMoving=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){this.heroComp=this.hero.getComponent("hero")},e.prototype.createAmmo=function(t){var e=cc.instantiate(this.preBonusAmmo);e.parent=this.node,e.position=t},e.prototype.countDie=function(){var t=this;this.isCountDie++,1==this.isCountDie&&this.statusAtk.getComponent("status").setName("FIZZ"),2==this.isCountDie&&this.statusAtk.getComponent("status").setName("ORN"),3==this.isCountDie&&this.statusAtk.getComponent("status").setName("THANOS"),3==this.isCountDie&&this.statusAtk.getComponent("status").setName("JINX"),3==this.isCountDie&&this.statusAtk.getComponent("status").setName("GAM"),this.statusAtk.active=!0,this.statusAtk.children[0].getComponent(cc.Animation).play(),5==this.isCountDie&&this.scheduleOnce(function(){t.endcard.active=!0,t.linkToStore.active=!0},1)},e.prototype.update=function(){this.isMoving||this.mainCamera.node.setPosition(this.hero.position.add(cc.v3(0,100))),this.node.getComponent(cc.Canvas)},e.prototype.createDamage=function(t){var e=cc.instantiate(this.preDamage);e.parent=this.node,e.position=t;var o=Math.floor(1e3*Math.random());e.scale=2;var n=o+1e3;e.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD"),n>1200&&(e.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD")),n>1500&&(e.getChildByName("count").color=(new cc.Color).fromHEX("#C53528")),e.getChildByName("count").getComponent(cc.Label).string="-"+n.toString()},c([a(cc.Camera)],e.prototype,"mainCamera",void 0),c([a(cc.Node)],e.prototype,"hero",void 0),c([a(cc.Prefab)],e.prototype,"preDamage",void 0),c([a(cc.Prefab)],e.prototype,"preBonusAmmo",void 0),c([a(cc.Node)],e.prototype,"statusAtk",void 0),c([a(cc.Node)],e.prototype,"endcard",void 0),c([a(cc.Node)],e.prototype,"linkToStore",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Goku:[function(t,e,o){"use strict";cc._RF.push(e,"960a48AA/1JKJwrEvxE56GC","Goku");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.skill1=function(){var t=this;this.anim.play("skill1"),cc.audioEngine.play(this.skill1Sound,!1,1),this.isSKill=!0;var e=this.enemyArr[0];if(e){var o=e.parent,n=e.position;this.scheduleOnce(function(){var e=cc.instantiate(t.preSkill1);e.parent=t.node.parent,e.position=e.getComponent("Skill").posStart;var i=t.node.position,c=n;c=o.convertToWorldSpaceAR(c),c=t.node.parent.convertToNodeSpaceAR(c);var r=t.node.position,s=c.x-r.x!=0?(c.y-r.y-30)/(c.x-r.x):0,a=Math.atan(s)*(180/Math.PI);a=r.x<=c.x?a:a+180;var l=t.checkAngle2(i,c);l=cc.misc.degreesToRadians(l);var p=i.add(cc.v3(190*Math.cos(l),190*Math.sin(l)));e.position=p,e.angle=a,t.arrFxSkill.push(e)},.2)}},e.prototype.skill2=function(){this.anim.play("skill2")},c([a],e)}(r.default));o.default=l,cc._RF.pop()},{"./hero":"hero"}],JoyStick:[function(t,e,o){"use strict";cc._RF.push(e,"4e138tFidRDnLPhU89XWAAw","JoyStick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot=null,e.ring=null,e.guild=null,e.textName=null,e.radius=null,e.stickPos=null,e.touchLocation=null,e.gamePlay=null,e.offGuide=!1,e.isMove=!1,e.textGuild=null,e.isFirst=!1,e}return i(e,t),e.prototype.start=function(){this.radius=this.ring.width/2,this.initTouchEvent(),this.gamePlay=cc.Canvas.instance.node.getComponent("Game")},e.prototype.initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.touchStartEvent=function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.stickPos=this.ring.getPosition(),e.sub(this.ring.getPosition().mag()),this.gamePlay.heroComp.directionX=this.dot.x>0?-1:1,this.gamePlay.heroComp.run(),this.node.opacity=255,this.touchLocation=t.getLocation()},e.prototype.touchMoveEvent=function(t){if(this.touchLocation===t.getLocation())return!1;this.isMove=!0,this.textName.active=!1;var e=this.ring.convertToNodeSpaceAR(t.getLocation()),o=e.mag(),n=this.stickPos.x+e.x,i=this.stickPos.y+e.y,c=cc.v2(n,i).sub(this.ring.getPosition()).normalize();if(this.radius>o)this.dot.setPosition(cc.v2(n,i));else{var r=this.stickPos.x+c.x*this.radius,s=this.stickPos.y+c.y*this.radius;this.dot.setPosition(cc.v2(r,s))}this.gamePlay.heroComp.run(),this.gamePlay.heroComp.moveDir=c,this.gamePlay.heroComp.directionX=this.dot.x>0?-1:1},e.prototype.touchEndEvent=function(){this.dot.setPosition(this.ring.getPosition()),this.isMove=!1,this.gamePlay.heroComp.stop(),this.textName.active=!0},e.prototype.update=function(){},c([a(cc.Node)],e.prototype,"dot",void 0),c([a(cc.Node)],e.prototype,"ring",void 0),c([a(cc.Node)],e.prototype,"guild",void 0),c([a(cc.Node)],e.prototype,"textName",void 0),c([a(cc.Node)],e.prototype,"textGuild",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Mako:[function(t,e,o){"use strict";cc._RF.push(e,"0bb3eKUcsdIxITjvks5nTBs","Mako");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.skill1=function(){this.anim.play("skill1")},e.prototype.skill2=function(){this.anim.play("skill1")},c([a],e)}(r.default));o.default=l,cc._RF.pop()},{"./hero":"hero"}],PlatformBrandIcon:[function(t,e,o){"use strict";cc._RF.push(e,"5c2b0Hn/WBGxbjDSZRcovbN","PlatformBrandIcon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.androidIcon=null,e.iosIcon=null,e}return i(e,t),e.prototype.start=function(){cc.sys.os==cc.sys.OS_ANDROID?this.getComponent(cc.Sprite).spriteFrame=this.androidIcon:cc.sys.os==cc.sys.OS_IOS&&(this.getComponent(cc.Sprite).spriteFrame=this.iosIcon)},c([a(cc.SpriteFrame)],e.prototype,"androidIcon",void 0),c([a(cc.SpriteFrame)],e.prototype,"iosIcon",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Skill:[function(t,e,o){"use strict";cc._RF.push(e,"5103etcHLZD8rySdIeY94Iw","Skill");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=t("./enemyListener"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.posStart=cc.v3(0,0,0),e.skillColider=null,e.damage=100,e}return i(e,t),e.prototype.start=function(){},e.prototype.onColider=function(t){this.skillColider.enabled=t},e.prototype.onCollisionEnter=function(t){t.node.getComponent(l.default)&&t.node.getComponent(l.default).target&&t.node.getComponent("enemy").attacked(this.damage)},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(t){t.node.getComponent(l.default)&&t.node.getComponent(l.default).target},c([a(cc.Vec3)],e.prototype,"posStart",void 0),c([a(cc.BoxCollider)],e.prototype,"skillColider",void 0),c([a(cc.Integer)],e.prototype,"damage",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./enemyListener":"enemyListener"}],Wukong:[function(t,e,o){"use strict";cc._RF.push(e,"9b9f7NnYxVEk6ExSX6FlYWF","Wukong");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.skill1=function(){var t=this;this.isSKill||(this.isSKill=!0,this.anim.play("skill1"),cc.audioEngine.play(this.skill1Sound,!1,1),console.log("skill1"),this.scheduleOnce(function(){var e=cc.instantiate(t.preSkill1);e.parent=t.node,e.position=e.getComponent("Skill").posStart},.55))},e.prototype.skill2=function(){this.anim.play("skill2")},c([a],e)}(r.default));o.default=l,cc._RF.pop()},{"./hero":"hero"}],anim:[function(t,e,o){"use strict";cc._RF.push(e,"7382cD19kVJp7SvbRYFnLSk","anim");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.finish=function(){this.node.destroy()},e.prototype.finishParent=function(){this.node.parent.destroy()},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],arrow:[function(t,e,o){"use strict";cc._RF.push(e,"936b5N+F35Bvor1whG6l4d+","arrow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.param=100,e}return i(e,t),e.prototype.start=function(){},e.prototype.checkAngle=function(){if(null!=this.target){var t=cc.Canvas.instance.node.getComponent("Game21").hero.position,e=this.target,o=e.position;o=e.parent.convertToWorldSpaceAR(o),o=this.node.parent.convertToNodeSpaceAR(o);var n=this.node.position,i=o.x-n.x!=0?(o.y-n.y-30)/(o.x-n.x):0,c=Math.atan(i)*(180/Math.PI);c=n.x<=o.x?c:c+180;var r=this.param,s=this.checkAngle2(t,o);s=cc.misc.degreesToRadians(s);var a=t.add(cc.v3(r*Math.cos(s),r*Math.sin(s)));return this.node.position=a,c}},e.prototype.checkPos=function(){var t=this.target,e=this.node.parent,o=t.position;o=t.parent.convertToWorldSpaceAR(o),o=e.parent.convertToNodeSpaceAR(o)},e.prototype.checkAngle2=function(t,e){var o=Math.abs(e.y-t.y)/Math.abs(e.x-t.x);if(e.y==t.y){if(e.x>t.x)return 0;if(e.x<t.x)return 180}if(e.x==t.x){if(e.y>t.y)return 90;if(e.y<t.y)return-90}if(t.x==e.x&&t.y==e.y)return 0;if(t.x!==e.x&&t.y!==e.y){if(e.x>t.x&&e.y>t.y)return cc.misc.radiansToDegrees(Math.atan(o));if(e.x>t.x&&e.y<t.y)return-1*cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y>t.y)return 180-cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y<t.y)return-(180-cc.misc.radiansToDegrees(Math.atan(o)))}},e.prototype.update=function(){this.node.angle=this.checkAngle()},c([a(cc.Node)],e.prototype,"target",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bar:[function(t,e,o){"use strict";cc._RF.push(e,"e7051gWBttNSLf+INoI17fA","bar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag="",e.lbCurrent=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){switch(this.tag){case"coin":this.lbCurrent.string=globalThis.gold.toString();break;case"wood":this.lbCurrent.string=globalThis.wood.toString()}},c([a(cc.String)],e.prototype,"tag",void 0),c([a(cc.Label)],e.prototype,"lbCurrent",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],btnHero:[function(t,e,o){"use strict";cc._RF.push(e,"1030fxn3DdOZ48cwLUaYY9G","btnHero");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=25,e.gamePlay=null,e.isSuccess=!1,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("gamePlay")},e.prototype.card_on=function(){this.node.getChildByName("circle").active=!0,this.node.getComponent(cc.Animation).play("card_on")},e.prototype.click=function(t,e){var o=this;if(globalThis.gold>=this.value){switch(this.scheduleOnce(function(){o.node.getChildByName("vfx").active=!0},1),this.scheduleOnce(function(){o.node.getComponent(cc.Animation).play("card_success")},1.2),this.node.getComponent(cc.Button).enabled=!1,globalThis.gold-=this.value,e){case"1":console.log("add"),this.gamePlay.btn_spawRenna();break;case"2":this.gamePlay.btn_spawWereWolf();break;case"3":this.gamePlay.btn_spawRacher()}this.isSuccess=!0}},e.prototype.update=function(){0==this.isSuccess&&(globalThis.gold>=this.value?(this.node.getComponent(cc.Button).enabled=!0,this.card_on()):this.node.getComponent(cc.Button).enabled=!1)},c([a(cc.Integer)],e.prototype,"value",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bulletEnemyListener:[function(t,e,o){"use strict";cc._RF.push(e,"21120Z7HulMSpPkoS4fHUd1","bulletEnemyListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../bullet"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){if(t.node.getComponent("heroListener")){var o=t.node.getComponent("heroListener").target,n=this.bulletNode.getComponent(r.default);o.getComponent("hero").attacked(n.damage),this.scheduleOnce(function(){e.node.getChildByName("explode")&&(e.node.getComponent(cc.CircleCollider).enabled=!1,e.node.stopAllActions(),e.node.getChildByName("explode").active=!0,e.node.getChildByName("icon").active=!1)},.01),this.scheduleOnce(function(){e.node.destroy()},.12)}"wall1"==t.node.name&&(this.scheduleOnce(function(){e.node.getChildByName("explode")&&(e.node.getComponent(cc.CircleCollider).enabled=!1,e.node.stopAllActions(),e.node.getChildByName("explode").active=!0,e.node.getChildByName("icon").active=!1)},.01),this.scheduleOnce(function(){e.node.destroy()},.12))},c([l(cc.Node)],e.prototype,"bulletNode",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../bullet":"bullet"}],bulletHeroListener:[function(t,e,o){"use strict";cc._RF.push(e,"6a615KUuTxNLpC2TMRDkDVV","bulletHeroListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../bullet"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){if(cc.Canvas.instance.node.getComponent("Game").heroComp,t.node.getComponent("enemyListener")&&e.node.getComponent("bulletHeroListener")){var o=t.node.getComponent("enemyListener").target,n=this.bulletNode.getComponent(r.default);o.getComponent("enemy").attacked(n.damage),n.isShuriken||(this.scheduleOnce(function(){e.node.getChildByName("explode")&&(e.node.getComponent(cc.CircleCollider).enabled=!1,e.node.stopAllActions(),e.node.getChildByName("explode").active=!0,e.node.getChildByName("icon").active=!1)},.01),this.scheduleOnce(function(){e.node.destroy()},.12))}"wall1"==t.node.name&&(this.scheduleOnce(function(){e.node.getChildByName("explode")&&(e.node.getComponent(cc.CircleCollider).enabled=!1,e.node.stopAllActions(),e.node.getChildByName("explode").active=!0,e.node.getChildByName("icon").active=!1)},.01),this.scheduleOnce(function(){e.node.destroy()},.12))},c([l(cc.Node)],e.prototype,"bulletNode",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../bullet":"bullet"}],bullet:[function(t,e,o){"use strict";cc._RF.push(e,"ba7cfCUQlNCEIFcMs27Q2UM","bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.isKnife=!1,e.isArrow=!1,e.isShuriken=!1,e}return i(e,t),e.prototype.start=function(){},c([a(cc.Integer)],e.prototype,"damage",void 0),c([a(cc.Boolean)],e.prototype,"isKnife",void 0),c([a(cc.Boolean)],e.prototype,"isArrow",void 0),c([a(cc.Boolean)],e.prototype,"isShuriken",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],cardRR:[function(t,e,o){"use strict";cc._RF.push(e,"d17edV3MrJK64VP9BAZUOhr","cardRR");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.anim=null,e.card_frame_arr=[],e.card_face_down_frame=null,e.card_name=null,e.isRunning=!1,e.isOpen=!1,e}return i(e,t),e.prototype.start=function(){this.addListener()},e.prototype.appear=function(){(0,cc.tween)(this.node).set({scale:0}).to(.5,{scale:1.1}).start()},e.prototype.changeIconOpen=function(){this.node.getChildByName("block").active=!1},e.prototype.changeIconClose=function(){this.icon.spriteFrame=this.card_face_down_frame},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},e.prototype.onTouchStart=function(){this.isRunning||this.isOpen||(this.isRunning=!0)},e.prototype.finishOpen=function(){this.isOpen=!0,this.isRunning=!1},e.prototype.finishClose=function(){this.isOpen=!1,this.isRunning=!1},e.prototype.onCloseCard=function(t){-1!=t.indexOf(this)&&(this.isRunning=!0,this.anim.play("close_card"))},c([a(cc.Sprite)],e.prototype,"icon",void 0),c([a(cc.Animation)],e.prototype,"anim",void 0),c([a(cc.SpriteFrame)],e.prototype,"card_frame_arr",void 0),c([a(cc.SpriteFrame)],e.prototype,"card_face_down_frame",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],charMap:[function(t,e,o){"use strict";cc._RF.push(e,"ee026mfNG9PkYofRKbjFIfJ","charMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.map=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){null!=this.target&&this.target.position&&1==this.target.active?this.node.position=this.target.position:this.node.active=!1,this.map&&"miniMap"==this.map.name&&(this.map.position=cc.v3(-this.node.x,-this.node.y))},c([a(cc.Node)],e.prototype,"target",void 0),c([a(cc.Node)],e.prototype,"map",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],chest:[function(t,e,o){"use strict";cc._RF.push(e,"2f5556keFNDVJ2mJGM/ZOd8","chest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.appear=function(){},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],chimera:[function(t,e,o){"use strict";cc._RF.push(e,"1c3f3lDTO9Cd7QfUiTKBrTr","chimera");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enemy"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skill2Node=null,e.skill1Node=null,e.preBullet=null,e.countAtk=0,e.atkSOund=null,e.thunderPre=null,e.soundThunder=null,e.soundSkill1=null,e.soundSkill2=null,e.isCountDowskill=!1,e.isAtk=!1,e}return i(e,t),e.prototype.attack=function(t){var e=this;if(!this.isAtk){this.isAtk=!0,this.isMeet=!0;var o=t.getComponent("hero");this.anim.scheduleOnce(function(){o.attacked(e.damage)},.3),this.atkList()}},e.prototype.atkList=function(){switch(this.countAtk++,this.countAtk){case 1:cc.audioEngine.play(this.atkSOund,!1,1),this.anim.play("atk");break;case 2:this.skill1();break;case 3:this.skill2(),this.countAtk=0}},e.prototype.skill1=function(){var t=this;this.isSkill||(this.isSkill=!0,this.anim.play("skill1"),cc.audioEngine.play(this.soundSkill1,!1,1),this.scheduleOnce(function(){var e=cc.instantiate(t.thunderPre);e.parent=t.node.parent,e.position=cc.v3(60,180),cc.audioEngine.play(t.soundThunder,!1,1)},.7))},e.prototype.skill2=function(){this.isSkill||(cc.audioEngine.play(this.soundSkill2,!1,1),this.isSkill=!0,this.anim.play("skill2"))},e.prototype.completeEvent=function(t){switch(this.isSkill=!1,t){case"skill2":this.atkList(),console.log("skill2");break;case"skill1":this.atkList(),console.log("skill1");break;case"atk":this.atkList(),console.log("atk")}},e.prototype.addEvent=function(t){switch(t){case"skill2":this.skill2Node.getComponent(cc.Animation).play();break;case"skill1":this.skill1Node.getComponent(cc.Animation).play()}},e.prototype.exitTarget=function(){this.arrHero.length<=0&&(this.isSkill=!1,this.isMeet=!1,this.isAtk=!1,this.anim.play("idle"),this.anim.unscheduleAllCallbacks())},e.prototype.update=function(){},c([l(cc.Node)],e.prototype,"skill2Node",void 0),c([l(cc.Node)],e.prototype,"skill1Node",void 0),c([l(cc.Prefab)],e.prototype,"preBullet",void 0),c([l(cc.AudioClip)],e.prototype,"atkSOund",void 0),c([l(cc.Prefab)],e.prototype,"thunderPre",void 0),c([l(cc.AudioClip)],e.prototype,"soundThunder",void 0),c([l(cc.AudioClip)],e.prototype,"soundSkill1",void 0),c([l(cc.AudioClip)],e.prototype,"soundSkill2",void 0),c([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../enemy":"enemy"}],darkOctopus:[function(t,e,o){"use strict";cc._RF.push(e,"296c2kQR8NJe62OUx72go0Y","darkOctopus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enemy"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atk_around=null,e.atk_down=null,e.preBullet=null,e.countAtk=0,e.atkSOund=null,e.isCountDowskill=!1,e}return i(e,t),e.prototype.attack=function(t){var e=this;this.isMeet=!0;var o=t.getComponent("hero");this.anim.scheduleOnce(function(){o.attacked(e.damage)},.3),this.atkList(t),this.anim.schedule(function(){e.isMeet&&(e.atkList(t),e.anim.scheduleOnce(function(){o.attacked(e.damage)},.3))},1.2,cc.macro.REPEAT_FOREVER,.6)},e.prototype.atkList=function(t){var e=this;switch(this.anim.play("atk"),this.isCountDowskill||(this.isCountDowskill=!0,cc.audioEngine.play(this.atkSOund,!1,.8),this.scheduleOnce(function(){e.isCountDowskill=!1},.2)),this.countAtk){case 2:this.countAtk=0,this.doubleAtk(t);break;case 1:this.countAtk++,this.createAtkAround(t),this.btn_skillCircle();break;default:this.countAtk++,this.createAtkDown(t)}},e.prototype.doubleAtk=function(t){for(var e=0;e<2;e++){var o=cc.instantiate(this.atk_down);o.parent=this.node.parent.parent.parent;var n=t.parent.convertToWorldSpaceAR(t.position);n=this.node.parent.parent.parent.convertToNodeSpaceAR(n),o.position=n,o.scaleX=(0==e?-1:1)*o.scaleX,o.zIndex=2}},e.prototype.createAtkDown=function(t){var e=cc.instantiate(this.atk_down);e.parent=this.node.parent.parent;var o=t.parent.convertToWorldSpaceAR(t.position);o=this.node.parent.parent.convertToNodeSpaceAR(o),e.scaleX=(o.x>this.node.x?-1:1)*e.scaleX,e.position=o,e.zIndex=2},e.prototype.createAtkAround=function(t){var e=cc.instantiate(this.atk_around);e.parent=this.node.parent.parent;var o=t.parent.convertToWorldSpaceAR(t.position);o=this.node.parent.parent.convertToNodeSpaceAR(o),e.position=o,e.zIndex=2},e.prototype.exitTarget=function(){this.arrHero.length<=0&&(this.isMeet=!1,this.anim.play("idle"),this.anim.unscheduleAllCallbacks())},e.prototype.update=function(){},e.prototype.btn_skillCircle=function(){},c([l(cc.Prefab)],e.prototype,"atk_around",void 0),c([l(cc.Prefab)],e.prototype,"atk_down",void 0),c([l(cc.Prefab)],e.prototype,"preBullet",void 0),c([l(cc.AudioClip)],e.prototype,"atkSOund",void 0),c([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../enemy":"enemy"}],dragon:[function(t,e,o){"use strict";cc._RF.push(e,"f75feJxmx9PNaQGrE464aVQ","dragon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enemy"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skill2Node=null,e.skill1Pre=null,e.preBullet=null,e.countAtk=0,e.atkSOund=null,e.isCountDowskill=!1,e}return i(e,t),e.prototype.attack=function(t){var e=this;this.isMeet=!0;var o=t.getComponent("hero");this.anim.scheduleOnce(function(){o.attacked(e.damage)},.3),this.skill2()},e.prototype.atkList=function(){var t=this;switch(this.anim.play("atk"),this.isCountDowskill||(this.isCountDowskill=!0,this.scheduleOnce(function(){t.isCountDowskill=!1},.2)),this.countAtk){case 2:this.countAtk=0,this.skill1();break;case 1:this.countAtk++,this.skill2();break;default:this.countAtk++,this.skill1()}},e.prototype.skill1=function(){var t=this;if(!this.isSkill){this.isSkill=!0;for(var e=[cc.v3(-231,-510),cc.v3(-126,-637),cc.v3(-325,-623),cc.v3(-142,-515),cc.v3(-428,-579),cc.v3(-314,-530),cc.v3(-217,-601),cc.v3(0,-534),cc.v3(-390,-540),cc.v3(50,-500)],o=function(o){var i=o%2;i*=.4,n.scheduleOnce(function(){var n=cc.instantiate(t.skill1Pre);n.parent=t.node.parent,n.position=e[o].add(cc.v3(0,100)),cc.tween(n).by(.5,{position:cc.v3(0,-500)}).call(function(){n.getChildByName("explode")&&(n.getComponent(cc.CircleCollider).enabled=!1,n.stopAllActions(),n.getChildByName("explode").active=!0,n.getChildByName("icon").active=!1)}).start()},i)},n=this,i=0;i<10;i++)o(i);this.scheduleOnce(function(){t.isSkill=!1,t.skill2()},.5)}},e.prototype.skill2=function(){this.isSkill||(this.isSkill=!0,this.anim.play("skill2"))},e.prototype.completeEvent=function(t){switch(this.isSkill=!1,t){case"skill2":this.skill1();break;case"skill1":this.skill2()}},e.prototype.addEvent=function(t){switch(t){case"skill2":this.skill2Node.getComponent(cc.Animation).play();break;case"skill1":this.skill1()}},e.prototype.exitTarget=function(){this.isSkill=!1,this.isMeet=!1,this.anim.play("idle"),this.anim.unscheduleAllCallbacks()},e.prototype.update=function(){},c([l(cc.Node)],e.prototype,"skill2Node",void 0),c([l(cc.Prefab)],e.prototype,"skill1Pre",void 0),c([l(cc.Prefab)],e.prototype,"preBullet",void 0),c([l(cc.AudioClip)],e.prototype,"atkSOund",void 0),c([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../enemy":"enemy"}],effect:[function(t,e,o){"use strict";cc._RF.push(e,"509bd1PIO9OhrLmNb930bKd","effect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.collider=null,e.gamePlay=null,e.type=null,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("game")},e.prototype.setAnim=function(){},e.prototype.finish=function(){this.node.parent.destroy()},e.prototype.play=function(t,e){switch(void 0===e&&(e=cc.v3(0,0)),this.collider.enabled=!1,t){case"moon_aura":this.getAnim(t).speed=.4,this.node.position=e,this.node.scale=2;break;case"skill_1_boss":this.getAnim(t).speed=.3,this.node.position=e;break;case"skill1_fx":this.getAnim(t).speed=.5,this.node.angle=90,this.node.position=e;break;case"flame_2":this.getAnim(t).speed=.7,this.node.scale=.7,this.node.position=e;break;case"flame_3":this.getAnim(t).speed=.5,this.node.scale=.3,this.node.position=e}this.anim.play(t)},e.prototype.getAnim=function(t){for(var e=0;e<this.anim.getClips().length;e++)if(this.anim.getClips()[e].name==t)return this.anim.getClips()[e];return null},c([a(cc.Animation)],e.prototype,"anim",void 0),c([a(cc.CircleCollider)],e.prototype,"collider",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],enemyListener:[function(t,e,o){"use strict";cc._RF.push(e,"34607e8qldE4p0kUXlNOEAT","enemyListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){if(e.node.getComponent("enemyListener")&&t.node.getComponent("heroListener")){var o=e.node.getComponent("enemyListener").target;o.getComponent("enemy").attack(t.node),o.getComponent("enemy").arrHero.push(t.node)}},e.prototype.onCollisionExit=function(t,e){e.node.getComponent("enemyListener")&&t.node.getComponent("heroListener")&&e.node.getComponent("enemyListener").target.getComponent("enemy").exitTarget(t.node._id)},c([a(cc.Node)],e.prototype,"target",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],enemySkillListener:[function(t,e,o){"use strict";cc._RF.push(e,"e4185KSpNtMjIMS6mlQrgUl","enemySkillListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillColider=null,e.damage=100,e}return i(e,t),e.prototype.start=function(){},e.prototype.onColider=function(t){this.skillColider.enabled=t},e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(t){t.node.getComponent("heroListener")&&t.node.getComponent("heroListener").target.getComponent("hero").attacked(this.damage)},c([a(cc.PolygonCollider)],e.prototype,"skillColider",void 0),c([a(cc.Integer)],e.prototype,"damage",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],enemy:[function(t,e,o){"use strict";cc._RF.push(e,"ee894rLZOtG451paY6xID8B","enemy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.bodyCollider=null,e.bodyPhysicsCollider=null,e.blood=null,e.bulletPrefab=null,e.bulletPos=cc.v3(0,0,0),e.isAD=!1,e.isBoss=!1,e.timeSpeed=0,e.hp=0,e.timeBullet=400,e.damage=0,e.tag=0,e.lbHP=null,e.isMeet=!1,e.isDie=!1,e.isFreeze=!1,e.maxHp=0,e.gamePlay=null,e.isSkill=!1,e.arrHero=[],e.isAttack=!1,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("Game"),this.maxHp=this.hp,this.isFreeze=!0,1==this.tag&&this.moveIdle1(),2==this.tag&&this.moveIdle2()},e.prototype.run=function(){},e.prototype.moveIdle1=function(){var t=this;cc.tween(this.node).repeatForever(cc.tween().set({position:cc.v3(-166,759)}).call(function(){t.anim.node.angle=-90}).to(1,{position:cc.v3(205,700)}).call(function(){t.anim.node.angle=180}).delay(.8).call(function(){t.anim.node.angle=90}).to(1,{position:cc.v3(-166,759)}).delay(1)).start()},e.prototype.moveIdle2=function(){var t=this;cc.tween(this.node).repeatForever(cc.tween().set({position:cc.v3(-705.211,497.407)}).call(function(){t.anim.node.angle=180}).to(1,{position:cc.v3(-654.008,67.024)}).call(function(){t.anim.node.angle=180}).delay(.8).call(function(){t.anim.node.angle=0}).to(1,{position:cc.v3(-705.211,497.407)}).delay(1)).start()},e.prototype.attacked=function(t){var e=this;this.isDie||(this.node.getComponent(cc.Animation).play(),this.hp-=t,this.lbHP.string=this.hp.toString(),null!=this.gamePlay&&(this.gamePlay.createDamage(this.node.position),this.isBoss&&(this.gamePlay.createDamageBoss(this.node.position),this.node.getComponent(cc.Animation).play())),this.hp<=0&&(this.hp=0,this.bodyCollider.enabled=!1,this.isDie=!0,this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.anim.unscheduleAllCallbacks(),this.gamePlay.countDie(this.node.position),this.node.active=!1,this.scheduleOnce(function(){e.node.active=!1},.3)),this.blood.fillRange=this.hp/this.maxHp)},e.prototype.completeEvent=function(){},e.prototype.addEvent=function(){},e.prototype.checkAngle=function(t){var e=t,o=e.x-this.node.x!=0?(e.y-this.node.y-30)/(e.x-this.node.x):0,n=Math.atan(o)*(180/Math.PI);return this.node.x<=e.x?n:n+180},e.prototype.attack=function(t){var e=this;if(!this.isAttack){this.isMeet=!0,this.isAttack=!1,this.arrHero[0]&&(t=this.arrHero[0]);var o=t.getComponent("hero");this.isAD?(this.anim.scheduleOnce(function(){e.anim.node.angle=e.checkAngle(t)-90,e.createBullet(t,o)},.4),this.anim.schedule(function(){e.anim.scheduleOnce(function(){e.anim.node.angle=e.checkAngle(t)-90,e.createBullet(t,o)},.4)},1,cc.macro.REPEAT_FOREVER,.5)):(this.anim.scheduleOnce(function(){o.attacked(e.damage)},.3),this.anim.schedule(function(){e.anim.scheduleOnce(function(){o.attacked(e.damage)},.3)},.8,cc.macro.REPEAT_FOREVER,.5))}},e.prototype.createBullet=function(t,e){var o=this,n=cc.instantiate(this.bulletPrefab);this.node.parent.addChild(n),n.zIndex=10,n.opacity=0;var i=this.anim.node.convertToWorldSpaceAR(cc.v3(0,167));i=this.node.parent.convertToNodeSpaceAR(i),n.position=i,this.checkTimePos(n.position,t.position.add(cc.v3(0,30)));var c=this.checkAngle2(this.node.position,t.position);c=cc.misc.degreesToRadians(c);var r=this.node.position.add(cc.v3(1500*Math.cos(c),1500*Math.sin(c)));cc.tween(n).set({opacity:255}).call(function(){n.getChildByName("trial").active=!0}).to(1,{position:r}).call(function(){e.attacked(o.damage),n.getChildByName("explode").active=!0,n.destroy()}).start()},e.prototype.checkTimePos=function(t,e){return t.sub(e).mag()/this.timeBullet},e.prototype.exitTarget=function(t){var e=this;this.arrHero.forEach(function(o,n){o._id==t&&e.arrHero.splice(n,1)}),0==this.arrHero.length&&(this.isMeet=!1,this.isSkill=!1,this.anim.unscheduleAllCallbacks())},e.prototype.freeze=function(){var t=this;this.isFreeze=!0,this.node.getChildByName("snow").active=!0,this.bodyPhysicsCollider.enabled=!1,this.node.zIndex=1,this.scheduleOnce(function(){t.isFreeze=!1,t.bodyPhysicsCollider.enabled=!0,t.node.getChildByName("snow").active=!1,t.node.zIndex=2},2)},e.prototype.onPause=function(t){this.isFreeze,this.bodyCollider.enabled=!t},e.prototype.checkAngle2=function(t,e){var o=Math.abs(e.y-t.y)/Math.abs(e.x-t.x);if(e.y==t.y){if(e.x>t.x)return 0;if(e.x<t.x)return 180}if(e.x==t.x){if(e.y>t.y)return 90;if(e.y<t.y)return-90}if(t.x==e.x&&t.y==e.y)return 0;if(t.x!==e.x&&t.y!==e.y){if(e.x>t.x&&e.y>t.y)return cc.misc.radiansToDegrees(Math.atan(o));if(e.x>t.x&&e.y<t.y)return-1*cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y>t.y)return 180-cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y<t.y)return-(180-cc.misc.radiansToDegrees(Math.atan(o)))}},e.prototype.update=function(t){if(!this.isFreeze&&!this.gamePlay.isPauseGame&&0==this.isMeet&&!this.isDie){var e=this.gamePlay.hero;Math.sqrt(Math.pow(this.node.x-e.x,2)+Math.pow(this.node.y-e.y,2)),this.node.x=this.node.x+t*(this.node.x<e.x?1:-1)*(10*Math.abs(this.node.x-e.x)/this.timeSpeed),this.node.y=this.node.y+t*(this.node.y<e.y?1:-1)*(10*Math.abs(this.node.y-e.y)/this.timeSpeed),this.node.getChildByName("icon").angle=this.checkAngle2(this.node.position,this.gamePlay.hero.position)-90}this.gamePlay.isPauseGame&&this.onPause(!0),this.gamePlay.isPauseGame||this.onPause(!1)},c([a(cc.Animation)],e.prototype,"anim",void 0),c([a(cc.CircleCollider)],e.prototype,"bodyCollider",void 0),c([a(cc.PhysicsCircleCollider)],e.prototype,"bodyPhysicsCollider",void 0),c([a(cc.Sprite)],e.prototype,"blood",void 0),c([a(cc.Prefab)],e.prototype,"bulletPrefab",void 0),c([a(cc.Vec3)],e.prototype,"bulletPos",void 0),c([a(cc.Boolean)],e.prototype,"isAD",void 0),c([a(cc.Boolean)],e.prototype,"isBoss",void 0),c([a(cc.Integer)],e.prototype,"timeSpeed",void 0),c([a(cc.Integer)],e.prototype,"hp",void 0),c([a(cc.Integer)],e.prototype,"timeBullet",void 0),c([a(cc.Integer)],e.prototype,"damage",void 0),c([a(cc.Integer)],e.prototype,"tag",void 0),c([a(cc.Label)],e.prototype,"lbHP",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],eventBossListener:[function(t,e,o){"use strict";cc._RF.push(e,"765dbvRKaxGD6g9BNgbkSCX","eventBossListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.completeEvent=function(t){this.node.parent.getComponent("enemy").completeEvent(t)},e.prototype.addEvent=function(t){this.node.parent.getComponent("enemy").addEvent(t)},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],gamePlay:[function(t,e,o){"use strict";cc._RF.push(e,"ef1d6tt/RtJXI44W2k4YByY","gamePlay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),globalThis.gold=0;var r=t("./hero/hero"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hero=null,e.hero2=null,e.eff_summon=null,e.btnStart=null,e.btnStart2=null,e.mainCamera=null,e.uiCamera=null,e.gate=null,e.listHero1=null,e.listHero2=null,e.listHeroDefault=null,e.heroNode=null,e.tree2=null,e.preDamage=null,e.preFxAtk=null,e.listTree=[],e.unlockNode=null,e.preWood=null,e.preWood2=null,e.missionBar=null,e.sceneBattle=null,e.bloodBar=null,e.boss=null,e.soundBg=null,e.soundChop=null,e.soundWoddy=null,e.soundWoodin=null,e.soundWoodOut=null,e.soundQuestComplete=null,e.soundSword=null,e.soundLight=null,e.soundVictory=null,e.endGameNode=null,e.textGuide=null,e.linkToStore=null,e.coinBar=null,e.bossBar=null,e.listBtn=null,e.uiNode=null,e.warning=null,e.iconGG=null,e.scene1=null,e.preDie=null,e.guild2=null,e.skillLight=null,e.skillSword=null,e.popHero=null,e.isEndGame=!1,e.isPus=0,e.isPauseGame=!1,e.heroComp=null,e.isStep=1,e.isMoving=!1,e.isvertical=!1,e.isZoomed=!1,e.isPhase=1,e.isRed=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.makeResponsive(),cc.audioEngine.play(this.soundBg,!0,.5),this.scheduleOnce(function(){t.listTree[0].getChildByName("arrow1").active=!0},.5)},e.prototype.start=function(){this.heroComp=this.hero.getComponent("hero")},e.prototype.update=function(){this.isMoving||this.mainCamera.node.setPosition(this.hero.position.add(cc.v3(-70,50)));var t=this.node.getComponent(cc.Canvas);cc.winSize.width<cc.winSize.height?this.isvertical||(this.isvertical=!0,t.fitHeight=!1,t.fitWidth=!0,this.isPus=0,this.iconGG.scale=1,this.coinBar.scale=1,cc.winSize.height/cc.winSize.width<1.35&&(t.fitHeight=!0)):(this.isvertical=!1,t.fitHeight=!0,t.fitWidth=!1,this.iconGG.scale=1.3,this.coinBar.scale=1.3,this.isPus=80)},e.prototype.btnCollect=function(t){var e=this;console.log(t),this.isStep<2?this.scheduleOnce(function(){e.listTree[e.isStep].getChildByName("arrow1").active=!0,e.listTree[e.isStep].getComponent(cc.Button).enabled=!0,e.isStep++},1.8):(this.scheduleOnce(function(){e.missionBar.getComponent(cc.Animation).play("mission_complete"),cc.audioEngine.play(e.soundQuestComplete,!1,1),e.missionBar.getComponent("updateBar").reset(1)},2.7),this.scheduleOnce(function(){e.moveCam1()},3));var o=t.currentTarget;o.getComponent(cc.Button).enabled=!1,o.getChildByName("arrow1").active=!1,this.heroComp.movePos(o)},e.prototype.moveWood=function(t){var e=this;cc.audioEngine.play(this.soundWoodin,!1,1);var o=this.missionBar.position;o=o.add(cc.v3(-50,0));var n=t.parent.convertToWorldSpaceAR(t.position);n=this.uiNode.convertToNodeSpaceAR(n),1==this.isPhase&&(t.parent=this.uiNode,t.scale*=1.3,cc.tween(t).to(.4,{position:o}).call(function(){e.missionBar.getComponent("updateBar").updateBar(),t.getComponent(cc.Animation).play("exp"),cc.audioEngine.play(e.soundWoodOut,!1,1)}).start())},e.prototype.moveCam1=function(){var t=this;this.isMoving=!0,this.heroComp.moveToPos(cc.v3(-450,-120),1.2),cc.tween(this.mainCamera.node).to(1.2,{position:cc.v3(-834,-5.3)}).start(),cc.tween(this.mainCamera).by(1.2,{zoomRatio:.3}).call(function(){t.transWood(t.gate)}).start()},e.prototype.transWood=function(t){for(var e=this,o=t.position,n=function(t){var n=cc.instantiate(i.preWood);n.parent=i.scene1,n.position=i.hero.position,n.scale=1.2;var c=cc.v2((i.hero.x+o.x+90)/2,i.hero.y+200),r=o.add(cc.v3(0,0));cc.tween(n).delay(.08*t).set({opacity:255}).call(function(){cc.audioEngine.play(e.soundWoodin,!1,1)}).parallel(cc.tween().bezierTo(.3,cc.v2(i.hero.x,i.hero.y),c,cc.v2(r.x,r.y)).call(function(){7==t&&e.summonHero(),n.getComponent(cc.Animation).play("exp")}),cc.tween().by(.3,{angle:360})).start()},i=this,c=0;c<8;c++)n(c)},e.prototype.transWood2=function(t){for(var e=this,o=t.position,n=function(t){for(var n=0==t?i.hero:i.hero2,c=function(c){var r=cc.instantiate(i.preWood);r.parent=i.scene1,r.position=n.position,r.scale=1.2;var s=cc.v2((n.x+o.x+90)/2,n.y+200),a=o.add(cc.v3(0,0));cc.tween(r).delay(.08*c).set({opacity:255}).call(function(){cc.audioEngine.play(e.soundWoodin,!1,1)}).parallel(cc.tween().bezierTo(.3,cc.v2(n.x,i.hero.y),s,cc.v2(a.x,a.y)).call(function(){7==c&&1==t&&e.summonHero2(),r.getComponent(cc.Animation).play("exp")}),cc.tween().by(.3,{angle:360})).start()},r=0;r<8;r++)c(r)},i=this,c=0;c<2;c++)n(c)},e.prototype.summonHero2=function(){var t=this;this.popHero.getComponent(cc.Animation).play("pop_close"),this.scheduleOnce(function(){t.listHeroDefault.active=!0,cc.audioEngine.play(t.soundQuestComplete,!1,2),t.scheduleOnce(function(){t.btnStart2.active=!0},.4)},.5)},e.prototype.btn_Start2=function(t){var e=this;this.sceneBattle.getChildByName("endGame").active=!1,cc.audioEngine.play(this.soundQuestComplete,!1,1),this.sceneBattle.active=!0,this.listHero1.active=!1,t.currentTarget.active=!1,this.mainCamera.zoomRatio=1,this.sceneBattle.active=!0,this.mainCamera.node.position=cc.v3(0,0),this.scheduleOnce(function(){e.listHero2.active=!0,e.bloodBar.active=!0},.3),this.scheduleOnce(function(){e.moveHero2()},.45)},e.prototype.showSkill=function(){var t=this,e=[cc.v3(0,0),cc.v3(-300,-50),cc.v3(-150,-10),cc.v3(-200,20),cc.v3(-100,-30)],o=0;this.schedule(function(){var n=cc.instantiate(t.skillLight);n.parent=t.sceneBattle,n.position=t.boss.position,n.zIndex=10,o<5?(n.position=t.boss.position.add(e[o]),o++):o=0,cc.audioEngine.play(t.soundLight,!1,.8),t.scheduleOnce(function(){t.createDamageBoss(t.boss.position)},.4)},.6),this.scheduleOnce(function(){var e=cc.instantiate(t.skillSword);e.parent=t.sceneBattle,e.position=t.boss.position.add(cc.v3(-2,0)),e.zIndex=10,cc.audioEngine.play(t.soundSword,!1,.8)},2),this.scheduleOnce(function(){var e=cc.instantiate(t.skillSword);e.parent=t.sceneBattle,e.position=t.boss.position.add(cc.v3(-2,0)),e.zIndex=10,t.scheduleOnce(function(){cc.audioEngine.play(t.soundSword,!1,1)},.3)},4)},e.prototype.moveHero2=function(){for(var t=this,e=function(e){e.getComponent(r.default).moveByPos(cc.v3(0,300),1),o.scheduleOnce(function(){var o=e.getChildByName("icon").scaleX>0?cc.v3(-100,80):cc.v3(100,80);t.schedule(function(){t.createDamage(e.position.add(o))},.8),t.createDamage(e.position.add(o))},1)},o=this,n=0,i=this.listHero2.children;n<i.length;n++)e(i[n]);this.scheduleOnce(function(){t.showSkill()},1)},e.prototype.summonHero=function(){var t=this;this.eff_summon.active=!0,this.missionBar.getComponent(cc.Animation).play("mission_complete2"),cc.audioEngine.play(this.soundQuestComplete,!1,2),this.scheduleOnce(function(){t.hero2.active=!0,t.missionBar.active=!1},.3),this.scheduleOnce(function(){t.hero2.getComponent(r.default).moveToPos(cc.v3(-595,-160),.8),t.hero.getComponent(r.default).moveToPos(cc.v3(-519,-154),.8),t.scheduleOnce(function(){t.btnStart.active=!0},.7)},.8)},e.prototype.btn_battle=function(){},e.prototype.endPhase1=function(){for(var t=this,e=0,o=this.listHero1.children;e<o.length;e++){var n=o[e].position,i=cc.instantiate(this.preDie);i.parent=this.listHero1.parent,i.position=n.add(cc.v3(0,50)),i.zIndex=3}this.listHero1.children[0].active=!1,this.listHero1.children[1].active=!1,this.scheduleOnce(function(){t.sceneBattle.getChildByName("endGame").active=!0},.5),this.scheduleOnce(function(){t.tree2.active=!0,t.sceneBattle.active=!1,t.warning.active=!1,t.bloodBar.active=!1,t.scheduleOnce(function(){t.hero.position=cc.v3(52,-109),t.hero2.position=cc.v3(110,-92),t.hero2.getChildByName("icon").scaleX=1.3,t.hero.getChildByName("fxAppear").active=!0,t.hero.getChildByName("fxAppear").getComponent(cc.Animation).play(),t.hero2.getChildByName("fxAppear").active=!0,t.hero2.getChildByName("fxAppear").getComponent(cc.Animation).play()},.2),t.scheduleOnce(function(){t.guild2.active=!0},.4)},1.3)},e.prototype.btnPhase2=function(t){var e=this;this.mainCamera.node.position=this.hero.position.add(cc.v3(-70,50)),this.guild2.active=!1,this.popHero.active=!0,t.currentTarget.getComponent(cc.Button).enabled=!1,t.currentTarget,this.heroComp.moveToPos(cc.v3(-51,-113),.6),this.hero2.getComponent(r.default).moveToPos(cc.v3(-18,-13),.6),this.scheduleOnce(function(){e.heroComp.chop(t.currentTarget),e.hero2.getComponent(r.default).chop(e.tree2.children[0])},.6),this.scheduleOnce(function(){e.moveCam2()},2),this.isMoving=!1},e.prototype.moveCam2=function(){var t=this;this.isMoving=!0,this.hero2.getComponent(r.default).moveToPos(cc.v3(-455,-90),1.7),this.heroComp.moveToPos(cc.v3(-485,-120),1.7),cc.tween(this.mainCamera.node).to(1.7,{position:cc.v3(-834,-5.3)}).start(),cc.tween(this.mainCamera).by(1.7,{zoomRatio:.2}).call(function(){t.transWood2(t.gate)}).start()},e.prototype.makeResponsive=function(){var t=this.node.getComponent(cc.Canvas),e=cc.view.getFrameSize(),o=t.designResolution.width/t.designResolution.height,n=e.width/e.height;n>=o?(t.fitHeight=!0,t.fitWidth=!1):n<o&&(t.fitHeight=!1,t.fitWidth=!0)},e.prototype.createHero=function(t,e){var o=cc.instantiate(t);o.parent=this.heroNode;var n=this.hero.position;o.position=n.add(cc.v3(50,50)),1!=e&&2!=e||(o.getComponent("hero").skillIceArrow(),this.scheduleOnce(function(){2==e&&o.getComponent("hero").check1()},.4))},e.prototype.updateBossBar=function(){var t=this.bossBar.getChildByName("bar").getComponent(cc.Sprite);t.fillRange-=.015;var e=this.bossBar.getChildByName("iconBoss"),o=-6;e.x-5<-168&&(e.x=-168,o=0),cc.tween(e).by(.2,{position:cc.v3(o,0)}).start(),t.fillRange<=.3&&0==this.isRed&&(this.isRed=!0,this.bossBar.getComponent(cc.Animation).play("red_bar"))},e.prototype.createDamage=function(t){var e=cc.instantiate(this.preDamage);e.parent=this.node,e.position=t;var o=Math.floor(1e3*Math.random());e.scale=2;var n=o+1e3;e.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD"),n>1200&&(e.getChildByName("count").color=(new cc.Color).fromHEX("#C236DD")),n>1500&&(e.getChildByName("count").color=(new cc.Color).fromHEX("#C53528")),e.getChildByName("count").getComponent(cc.Label).string="-"+n.toString();var i=cc.instantiate(this.preFxAtk);i.parent=this.node,i.position=t,i.scale=1.4,this.boss.getComponent("boss").attacked(90)},e.prototype.createDamageBoss=function(t){console.log("create dame");var e=cc.instantiate(this.preDamage);e.parent=this.node,e.position=t;var o=Math.floor(1e3*Math.random());e.scale=3;var n=o+800;e.getChildByName("count").color=(new cc.Color).fromHEX("#F59022"),e.getChildByName("count").getComponent(cc.Label).string="-"+n.toString();var i=cc.instantiate(this.preFxAtk);i.parent=this.node,i.position=t,i.scale=1.4,this.boss.getComponent("boss").attacked(107)},e.prototype.onEndGame=function(){cc.audioEngine.play(this.soundVictory,!1,.8),this.unscheduleAllCallbacks(),this.bloodBar.active=!1,this.sceneBattle.getChildByName("endGame2").active=!0,this.linkToStore.active=!0;for(var t=0,e=this.listHero2.children;t<e.length;t++)e[t].getComponent("hero").stopG()},c([l(cc.Node)],e.prototype,"hero",void 0),c([l(cc.Node)],e.prototype,"hero2",void 0),c([l(cc.Node)],e.prototype,"eff_summon",void 0),c([l(cc.Node)],e.prototype,"btnStart",void 0),c([l(cc.Node)],e.prototype,"btnStart2",void 0),c([l(cc.Camera)],e.prototype,"mainCamera",void 0),c([l(cc.Camera)],e.prototype,"uiCamera",void 0),c([l(cc.Node)],e.prototype,"gate",void 0),c([l(cc.Node)],e.prototype,"listHero1",void 0),c([l(cc.Node)],e.prototype,"listHero2",void 0),c([l(cc.Node)],e.prototype,"listHeroDefault",void 0),c([l(cc.Node)],e.prototype,"heroNode",void 0),c([l(cc.Node)],e.prototype,"tree2",void 0),c([l(cc.Prefab)],e.prototype,"preDamage",void 0),c([l(cc.Prefab)],e.prototype,"preFxAtk",void 0),c([l(cc.Node)],e.prototype,"listTree",void 0),c([l(cc.Node)],e.prototype,"unlockNode",void 0),c([l(cc.Prefab)],e.prototype,"preWood",void 0),c([l(cc.Prefab)],e.prototype,"preWood2",void 0),c([l(cc.Node)],e.prototype,"missionBar",void 0),c([l(cc.Node)],e.prototype,"sceneBattle",void 0),c([l(cc.Node)],e.prototype,"bloodBar",void 0),c([l(cc.Node)],e.prototype,"boss",void 0),c([l(cc.AudioClip)],e.prototype,"soundBg",void 0),c([l(cc.AudioClip)],e.prototype,"soundChop",void 0),c([l(cc.AudioClip)],e.prototype,"soundWoddy",void 0),c([l(cc.AudioClip)],e.prototype,"soundWoodin",void 0),c([l(cc.AudioClip)],e.prototype,"soundWoodOut",void 0),c([l(cc.AudioClip)],e.prototype,"soundQuestComplete",void 0),c([l(cc.AudioClip)],e.prototype,"soundSword",void 0),c([l(cc.AudioClip)],e.prototype,"soundLight",void 0),c([l(cc.AudioClip)],e.prototype,"soundVictory",void 0),c([l(cc.Node)],e.prototype,"endGameNode",void 0),c([l(cc.Node)],e.prototype,"textGuide",void 0),c([l(cc.Node)],e.prototype,"linkToStore",void 0),c([l(cc.Node)],e.prototype,"coinBar",void 0),c([l(cc.Node)],e.prototype,"bossBar",void 0),c([l(cc.Node)],e.prototype,"listBtn",void 0),c([l(cc.Node)],e.prototype,"uiNode",void 0),c([l(cc.Node)],e.prototype,"warning",void 0),c([l(cc.Node)],e.prototype,"iconGG",void 0),c([l(cc.Node)],e.prototype,"scene1",void 0),c([l(cc.Prefab)],e.prototype,"preDie",void 0),c([l(cc.Node)],e.prototype,"guild2",void 0),c([l(cc.Prefab)],e.prototype,"skillLight",void 0),c([l(cc.Prefab)],e.prototype,"skillSword",void 0),c([l(cc.Node)],e.prototype,"popHero",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./hero/hero":"hero"}],gem:[function(t,e,o){"use strict";cc._RF.push(e,"559a6ZW3eZKToGTx2ExzOXS","gem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],giantRock:[function(t,e,o){"use strict";cc._RF.push(e,"b8d3c7Vz8pEqYExnJwTZ8pq","giantRock");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enemy"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skill2Node=null,e.skill1Node=null,e.preBullet=null,e.countAtk=0,e.atkSOund=null,e.isCountDowskill=!1,e.isAtk=!1,e}return i(e,t),e.prototype.attack=function(t){var e=this;if(!this.isAtk){this.isAtk=!0,this.isMeet=!0;var o=t.getComponent("hero");this.anim.scheduleOnce(function(){o.attacked(e.damage)},.3),this.atkList()}},e.prototype.atkList=function(){var t=this;switch(this.anim.play("atk"),this.isCountDowskill||(this.isCountDowskill=!0,this.scheduleOnce(function(){t.isCountDowskill=!1},.2)),this.countAtk){case 2:this.countAtk=0,this.skill1();break;case 1:this.countAtk++,this.skill2();break;default:this.countAtk++,this.skill1()}},e.prototype.skill1=function(){this.isSkill||(this.anim.play("skill1"),this.isSkill=!0)},e.prototype.skill2=function(){this.isSkill||(this.isSkill=!0,this.anim.play("skill2"))},e.prototype.completeEvent=function(t){switch(this.isSkill=!1,t){case"skill2":this.skill1();break;case"skill1":this.skill2()}},e.prototype.addEvent=function(t){switch(t){case"skill2":this.skill2Node.getComponent(cc.Animation).play();break;case"skill1":this.skill1()}},e.prototype.exitTarget=function(){this.arrHero.length<=0&&(this.isAtk=!1,this.isSkill=!1,this.isMeet=!1,this.anim.play("idle"),this.anim.unscheduleAllCallbacks())},e.prototype.update=function(){},c([l(cc.Node)],e.prototype,"skill2Node",void 0),c([l(cc.Prefab)],e.prototype,"skill1Node",void 0),c([l(cc.Prefab)],e.prototype,"preBullet",void 0),c([l(cc.AudioClip)],e.prototype,"atkSOund",void 0),c([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../enemy":"enemy"}],hand:[function(t,e,o){"use strict";cc._RF.push(e,"ca1fcten2ZAwr2eOIAxh36j","hand");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.card1Node=null,e.card2Node=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.card1=function(){this.card1Node.play("card_tut")},e.prototype.card2=function(){this.card2Node.play("card_tut")},c([a(cc.Animation)],e.prototype,"card1Node",void 0),c([a(cc.Animation)],e.prototype,"card2Node",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],heroListener:[function(t,e,o){"use strict";cc._RF.push(e,"2910fuy6ihCOLc2U3/6jdtv","heroListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){var o=this.node.getComponent("hero");e.node.getComponent("heroListener")&&"bulletBox"==t.node.name&&(t.node.active=!1,o.reload())},c([a(cc.Node)],e.prototype,"target",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],hero:[function(t,e,o){"use strict";cc._RF.push(e,"7dca7QRyN9LfKFIkDZl5K0r","hero");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enemy"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.bodyCollider=null,e.rangeCollider=null,e.heroBullet=null,e.blood=null,e.bloodSub=null,e.preDamage=null,e.levelNode=null,e.isHaveSkill=!0,e.hp=500,e.damage=50,e.countDown=.4,e.isAD=!1,e.isAuto=!1,e.atkSound=null,e.chopSound=null,e.skill1Sound=null,e.preSkill1=null,e.preSkill2=null,e.lbHP=null,e.isLocalScale=1,e.isMain=!1,e.isSKill=!1,e.moveDir=null,e.directionX=null,e.isRun=!1,e.isDie=!1,e.speed=300,e.maxHp=0,e.enemyArr=[],e.isAttack=!1,e.isChop=!1,e.gamePlay=null,e.isCountAtk=0,e.arrPosFollow=[cc.v3(-238,-261),cc.v3(-43,-351),cc.v3(-170,-405),cc.v3(-101,67)],e.isCountFollow=0,e.localPos=cc.v3(0,0),e.arrHero=[],e.arrFxSkill=[],e.isEnd=!1,e}return i(e,t),e.prototype.start=function(){this.maxHp=this.hp,this.gamePlay=cc.Canvas.instance.node.getComponent("Game")},e.prototype.run=function(){this.isSKill||this.isRun||this.isDie||(this.isRun=!0)},e.prototype.idle=function(){this.isRun||this.isDie||(this.isSKill=!1)},e.prototype.onColider=function(){this.bodyCollider.enabled=!0,this.rangeCollider.enabled=!0},e.prototype.offColider=function(){this.node.active=!0,this.bodyCollider.enabled=!1,this.rangeCollider.enabled=!1,this.node.scaleX=-1,this.isAuto=!1,this.isRun=!1,this.isEnd=!0,this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.getChildByName("hpBar").active=!0,this.idle(),this.node.getChildByName("fxAppear").getComponent(cc.Animation).play()},e.prototype.stop=function(){this.isSKill||this.isDie||(this.isRun=!1,this.enemyArr.length>0?this.attack():this.isSKill)},e.prototype.showNoti=function(){this.node.getChildByName("preNoti").getComponent(cc.Animation).play()},e.prototype.attack=function(){var t=this;this.enemyArr.length>0?this.isAttack||(this.isAttack=!0,this.node.stopAllActions(),this.isRun=!1,this.schedule(function(){t.shoot()},.3)):0==this.enemyArr.length&&this.isAuto&&(this.anim.unscheduleAllCallbacks(),this.isAttack=!1,this.idle())},e.prototype.setDefault=function(){this.node.stopAllActions(),this.isAttack=!1,this.isRun=!1,this.idle(),this.node.getChildByName("fxAppear").getComponent(cc.Animation).play()},e.prototype.reload=function(){var t=this;this.node.getChildByName("napdan").getComponent(cc.Animation).play(),this.scheduleOnce(function(){t.gamePlay.createAmmo(t.node.position.add(cc.v3(-50,50)))},.2)},e.prototype.moveToPos=function(t,e){var o=this;this.anim.play("move"),cc.tween(this.node).to(e,{position:t}).call(function(){o.idle()}).start()},e.prototype.moveByPos=function(t,e){var o=this;this.anim.play("move"),cc.tween(this.node).by(e,{position:t}).call(function(){o.anim.play("idle"),o.onColider()}).start()},e.prototype.attacked=function(t){this.isDie||(this.hp-=t,this.lbHP.string=this.hp.toString(),this.blood.fillRange=this.hp/this.maxHp,this.node.getComponent(cc.Animation).play(),this.hp<=100||this.hp<=0&&(this.hp=0,this.bodyCollider.enabled=!1,this.isDie=!0,this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.anim.unscheduleAllCallbacks(),this.node.destroy()))},e.prototype.removeEnemy=function(t){var e=this;this.enemyArr.forEach(function(o,n){o._id==t&&e.enemyArr.splice(n,1)}),0==this.enemyArr.length&&(this.anim.unscheduleAllCallbacks(),this.isAttack=!1,this.isSKill)},e.prototype.removeEnemy2=function(t){var e=this;this.enemyArr.forEach(function(o,n){o==t&&e.enemyArr.splice(n,1)}),0==this.enemyArr.length&&(this.anim.unscheduleAllCallbacks(),this.node.stopAllActions(),this.isAttack=!1)},e.prototype.check1=function(){0==this.enemyArr.length&&(this.anim.unscheduleAllCallbacks(),this.isAttack=!1)},e.prototype.skill1=function(){},e.prototype.skill2=function(){},e.prototype.shoot=function(){if(!this.isSKill)if(this.enemyArr.length>0&&this.enemyArr[0]){if(this.isAD){if(this.enemyArr[0]&&this.enemyArr[0].position){var t=this.enemyArr[0].position;this.anim.node.angle=this.checkAngle(this.enemyArr[0])-90;for(var e=0;e<1;e++)if(this.enemyArr.length>0&&this.enemyArr[0]){cc.audioEngine.play(this.atkSound,!1,.5);var o=cc.instantiate(this.heroBullet),n=t.add(cc.v3(50*e,50*e)),i=this.anim.node.convertToWorldSpaceAR(cc.v3(0,167));i=this.node.parent.convertToNodeSpaceAR(i);var c=this.checkAngle(this.enemyArr[0]);this.createBullet(o,c,i,n)}}}else if(this.enemyArr.length>0&&this.enemyArr[0])if(this.isCountAtk++,this.isCountAtk>4&&(this.isCountAtk=0),this.isHaveSkill||(this.isCountAtk=0),cc.audioEngine.play(this.atkSound,!1,1),Math.floor(100*Math.random()),this.damage,this.node.scaleX=this.node.x>this.enemyArr[0].x?this.isLocalScale:-this.isLocalScale,4==this.isCountAtk)this.skill1(),this.isCountAtk=0;else if(this.anim.play("atk"),this.enemyArr.length>0&&this.enemyArr[0]){cc.audioEngine.play(this.atkSound,!1,.5);var r=cc.instantiate(this.heroBullet);n=this.enemyArr[0].position.add(cc.v3(0,0)),this.anim.node.scaleX,i=this.node.position.add(cc.v3(0,30)),c=this.checkAngle(this.enemyArr[0]),"mechaman"==this.node.name&&(i=this.node.scaleX<0?this.node.position.add(cc.v3(131,17)):this.node.position.add(cc.v3(-131,17))),this.createBullet(r,c,i,n)}}else this.isAttack=!1,this.isSKill=!1,this.idle()},e.prototype.checkTimePos=function(t,e){return t.sub(e).mag()/200},e.prototype.eventComplete=function(t){switch(t){case"atk":0==this.enemyArr.length?this.idle():this.shoot(),this.enemyArr[0]&&this.enemyArr[0].getComponent(r.default).attacked(this.damage);break;case"skill1":this.isSKill=!1,0==this.enemyArr.length?this.idle():this.shoot(),this.enemyArr[0]&&this.enemyArr[0].getComponent(r.default).attacked(this.damage);break;case"skill2":this.isSKill=!1,0==this.enemyArr.length?this.idle():this.shoot()}},e.prototype.stopG=function(){this.unscheduleAllCallbacks(),this.anim.unscheduleAllCallbacks(),this.anim.play("idle"),this.isRun=!1},e.prototype.createBullet=function(t,e,o,n,i){void 0===i&&(i=.35),this.node.parent.addChild(t),"kazetsu"!=this.node.name&&(t.angle=e),t.setPosition(o);var c=this.checkAngle2(this.node.position,n);c=cc.misc.degreesToRadians(c);var r=this.node.position.add(cc.v3(1500*Math.cos(c),1500*Math.sin(c)));cc.tween(t).to(1.5,{position:r}).call(function(){t.destroy()}).start()},e.prototype.checkAngle=function(t){if(this.enemyArr.length>0&&this.enemyArr&&this.enemyArr[0]){var e=t,o=e.x-this.node.x!=0?(e.y-this.node.y-30)/(e.x-this.node.x):0,n=Math.atan(o)*(180/Math.PI);return this.node.x<=e.x?n:n+180}},e.prototype.update=function(){if(!this.isEnd)if(this.moveDir&&this.directionX&&this.isRun&&!this.isDie){var t=this.node.position.add(this.moveDir.mul(this.speed/60));0==this.enemyArr.length&&(this.node.getChildByName("icon").angle=this.checkAngle2(this.node.position,t)-90),this.node.setPosition(t)}else 0==this.isMain&&this.isRun&&(this.node.angle=this.checkAngle1(this.gamePlay.hero.position.add(this.localPos)),this.node.position=this.gamePlay.hero.position.add(this.localPos))},e.prototype.checkAngle1=function(t){var e=t,o=this.node.position,n=e.x-o.x!=0?(e.y-o.y-30)/(e.x-o.x):0,i=Math.atan(n)*(180/Math.PI);return o.x<=e.x?i:i+180},e.prototype.checkPos=function(){this.node.parent},e.prototype.checkAngle2=function(t,e){var o=Math.abs(e.y-t.y)/Math.abs(e.x-t.x);if(e.y==t.y){if(e.x>t.x)return 0;if(e.x<t.x)return 180}if(e.x==t.x){if(e.y>t.y)return 90;if(e.y<t.y)return-90}if(t.x==e.x&&t.y==e.y)return 0;if(t.x!==e.x&&t.y!==e.y){if(e.x>t.x&&e.y>t.y)return cc.misc.radiansToDegrees(Math.atan(o));if(e.x>t.x&&e.y<t.y)return-1*cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y>t.y)return 180-cc.misc.radiansToDegrees(Math.atan(o));if(e.x<t.x&&e.y<t.y)return-(180-cc.misc.radiansToDegrees(Math.atan(o)))}},c([l(cc.Animation)],e.prototype,"anim",void 0),c([l(cc.CircleCollider)],e.prototype,"bodyCollider",void 0),c([l(cc.CircleCollider)],e.prototype,"rangeCollider",void 0),c([l(cc.Prefab)],e.prototype,"heroBullet",void 0),c([l(cc.Sprite)],e.prototype,"blood",void 0),c([l(cc.Sprite)],e.prototype,"bloodSub",void 0),c([l(cc.Prefab)],e.prototype,"preDamage",void 0),c([l(cc.Node)],e.prototype,"levelNode",void 0),c([l(cc.Boolean)],e.prototype,"isHaveSkill",void 0),c([l(cc.Integer)],e.prototype,"hp",void 0),c([l(cc.Integer)],e.prototype,"damage",void 0),c([l(cc.Integer)],e.prototype,"countDown",void 0),c([l(cc.Boolean)],e.prototype,"isAD",void 0),c([l(cc.Boolean)],e.prototype,"isAuto",void 0),c([l(cc.AudioClip)],e.prototype,"atkSound",void 0),c([l(cc.AudioClip)],e.prototype,"chopSound",void 0),c([l(cc.AudioClip)],e.prototype,"skill1Sound",void 0),c([l(cc.Prefab)],e.prototype,"preSkill1",void 0),c([l(cc.Prefab)],e.prototype,"preSkill2",void 0),c([l(cc.Label)],e.prototype,"lbHP",void 0),c([l(cc.Integer)],e.prototype,"isLocalScale",void 0),c([l(cc.Boolean)],e.prototype,"isMain",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../enemy":"enemy"}],house:[function(t,e,o){"use strict";cc._RF.push(e,"4ec9fStrWBBI6YpSEjKfyvl","house");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.house1=null,e.house2=null,e.currentLabel=null,e.pop1=null,e.pop2=null,e.pop3=null,e.pop4=null,e.circle=null,e.isUpdate=0,e.valueUpdate=10,e.gamePlay=null,e.isStep=0,e.isMoving=!1,e}return i(e,t),e.prototype.start=function(){this.gamePlay=cc.Canvas.instance.node.getComponent("Game21")},e.prototype.checkUpdate=function(){this.isMoving||(globalThis.wood>=this.valueUpdate&&0==this.isUpdate&&0==this.isStep?(this.gamePlay.updateHouse(this.valueUpdate),this.isStep=1,this.isMoving=!0):globalThis.gold>=this.valueUpdate&&1==this.isUpdate&&1==this.isStep?(this.gamePlay.updateHouse2(20),this.isStep=2,this.isMoving=!0):globalThis.gold>=this.valueUpdate&&2==this.isUpdate&&2==this.isStep?(this.gamePlay.updateHouse2(20),this.isStep=3,this.isMoving=!0):globalThis.gold>=this.valueUpdate&&3==this.isUpdate&&3==this.isStep?(this.gamePlay.updateHouse2(20),this.isStep=4,this.isMoving=!0):this.gamePlay.heroComp.showNoti())},e.prototype.updateValue=function(){this.valueUpdate--,this.currentLabel.string=this.valueUpdate.toString();var t=this.pop1.getChildByName("bg").getComponent(cc.Sprite),e=t.fillRange;cc.tween(t).to(.1,{fillRange:e+.5}).start()},e.prototype.updateHouse=function(){var t=this;this.gamePlay.arrow.active=!1,0==this.isUpdate?(this.pop1.active=!1,this.house1.active=!1,this.house2.active=!0,this.valueUpdate=80,this.isUpdate=1,this.circle.scale=.22,this.scheduleOnce(function(){t.pop2.active=!0,cc.tween(t.pop2).to(.3,{scale:1}).start(),t.pop1=t.pop2},.5),this.gamePlay.spawEnemies(30),this.isMoving=!1):1==this.isUpdate?(this.gamePlay.btn_Claim(null,"2"),this.pop2.active=!1,this.isUpdate=2,this.valueUpdate=150,this.scheduleOnce(function(){t.pop3.active=!0,cc.tween(t.pop3).to(.3,{scale:1}).start(),t.pop1=t.pop3},.5),this.gamePlay.arrow.getComponent("arrow").param=130):2==this.isUpdate?(this.gamePlay.btn_Claim(null,"4"),this.gamePlay.arrow.getComponent("arrow").param=180,this.pop3.active=!1,this.isUpdate=3,this.valueUpdate=500,this.scheduleOnce(function(){t.pop4.active=!0,cc.tween(t.pop4).to(.3,{scale:1}).start(),t.pop1=t.pop4},.5)):3==this.isUpdate&&(this.gamePlay.btn_Claim(null,"1"),this.gamePlay.arrow.getComponent("arrow").param=200,this.isUpdate=4,this.valueUpdate=1e3,this.scheduleOnce(function(){t.pop4.active=!0,cc.tween(t.pop4).to(.3,{scale:1}).start(),t.pop1=t.pop4},.5))},e.prototype.checkSuccess=function(){1==this.isUpdate&&globalThis.gold>=80?this.gamePlay.arrow.active=!0:2==this.isUpdate&&globalThis.gold>=150?this.gamePlay.arrow.active=!0:3==this.isUpdate&&globalThis.gold>=500&&(this.gamePlay.arrow.active=!0)},e.prototype.update=function(){this.checkSuccess()},c([a(cc.Node)],e.prototype,"house1",void 0),c([a(cc.Node)],e.prototype,"house2",void 0),c([a(cc.Label)],e.prototype,"currentLabel",void 0),c([a(cc.Node)],e.prototype,"pop1",void 0),c([a(cc.Node)],e.prototype,"pop2",void 0),c([a(cc.Node)],e.prototype,"pop3",void 0),c([a(cc.Node)],e.prototype,"pop4",void 0),c([a(cc.Node)],e.prototype,"circle",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],kaboom:[function(t,e,o){"use strict";cc._RF.push(e,"5cf1bFirdpNe6szzD0hTpXk","kaboom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Constant"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bodySkeleton=null,e.bodyCollider=null,e.rangeCollider=null,e.heroBullet=null,e.effect=null,e.kameBeam=null,e.blood=null,e.hp=500,e.damage=50,e.atkSound=null,e.moveDir=null,e.directionX=null,e.isRun=!1,e.isDie=!1,e.speed=250,e.maxHp=0,e.enemyArr=[],e.isAttack=!1,e.gamePlay=null,e}return i(e,t),e.prototype.start=function(){this.maxHp=this.hp,this.gamePlay=cc.Canvas.instance.node.getComponent("GamePlay_2")},e.prototype.run=function(){this.isRun||this.isDie||(this.isRun=!0,this.bodySkeleton.setAnimation(0,"fly",!0),this.kameBeam.active=!0)},e.prototype.idle=function(){this.isRun||this.isDie||(this.bodySkeleton.setAnimation(0,"fly idle",!0),this.kameBeam.active=!1)},e.prototype.stop=function(){this.isDie||(this.isRun=!1,this.bodySkeleton.setAnimation(0,"idle",!0),this.kameBeam.active=!1)},e.prototype.attack=function(){var t=this;this.enemyArr.length>0&&(this.isAttack||(this.isAttack=!0,this.bodySkeleton.schedule(function(){t.Flame()},2,cc.macro.REPEAT_FOREVER,0)))},e.prototype.attacked=function(t){this.isDie||(this.hp-=t,this.hp<=0&&(this.hp=0,this.bodyCollider.enabled=!1,this.isDie=!0,this.node.stopAllActions(),this.node.getChildByName("holyRing").active=!1,this.bodySkeleton.setAnimation(0,"die",!1),this.unscheduleAllCallbacks(),this.bodySkeleton.unscheduleAllCallbacks(),this.changeAnimation(),this.gamePlay.joyStick.getComponent("Joystick").touchEndEvent(),this.gamePlay.joyStick.active=!1),this.blood.fillRange=this.hp/this.maxHp)},e.prototype.removeEnemy=function(t){var e=this;this.enemyArr.forEach(function(o,n){o._id==t&&e.enemyArr.splice(n,1)}),0==this.enemyArr.length&&this.idle()},e.prototype.Flame=function(){if(this.showEffect("flame_2",this.node),this.enemyArr.length>0)for(var t=0;t<this.enemyArr.length;t++)cc.audioEngine.play(this.atkSound,!1,.5),this.showEffect("flame_3",this.enemyArr[t])},e.prototype.showEffect=function(t,e){var o=cc.instantiate(this.effect);return e.addChild(o),o.getComponent("effect").play(t),o.zIndex=100,o},e.prototype.createBullet=function(t,e,o,n,i){var c=this;void 0===i&&(i=.25),this.node.parent.addChild(t),t.angle=e,t.setPosition(o),this.bodySkeleton.node.scaleX,this.scheduleOnce(function(){t.getChildByName("trail1").active=!0},.05),cc.tween(t).to(i,{position:n}).call(function(){t.getChildByName("explode").active=!0,t.getChildByName("icon").active=!1,c.scheduleOnce(function(){t.destroy()},.12)}).start()},e.prototype.checkAngle=function(t){if(this.enemyArr.length>0&&this.enemyArr){var e=t,o=e.x-this.node.x!=0?(e.y-this.node.y-30)/(e.x-this.node.x):0,n=Math.atan(o)*(180/Math.PI);return this.node.x<=e.x?n:n+180}},e.prototype.changeAnimation=function(){var t=this;this.bodySkeleton.setCompleteListener(function(e){"die"==(e.animation?e.animation.name:"")&&(t.node.active=!1,cc.Canvas.instance.node.emit(r.Constant.EVENT.END_GAME,!1))})},e.prototype.update=function(){if(this.moveDir&&this.directionX&&this.isRun&&!this.isDie){var t=this.node.position.add(this.moveDir.mul(this.speed/60));this.node.setPosition(t.clampf(cc.v3(-700,-750),cc.v3(700,750)))}this.enemyArr.length>0&&this.enemyArr&&!this.isDie&&(this.enemyArr[0].x>=this.node.x+20?this.bodySkeleton.node.scaleX=-.1:this.bodySkeleton.node.scaleX=.1)},c([l(sp.Skeleton)],e.prototype,"bodySkeleton",void 0),c([l(cc.CircleCollider)],e.prototype,"bodyCollider",void 0),c([l(cc.CircleCollider)],e.prototype,"rangeCollider",void 0),c([l(cc.Prefab)],e.prototype,"heroBullet",void 0),c([l(cc.Prefab)],e.prototype,"effect",void 0),c([l(cc.Node)],e.prototype,"kameBeam",void 0),c([l(cc.Sprite)],e.prototype,"blood",void 0),c([l(cc.Integer)],e.prototype,"hp",void 0),c([l(cc.Integer)],e.prototype,"damage",void 0),c([l(cc.AudioClip)],e.prototype,"atkSound",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Constant":"Constant"}],laser:[function(t,e,o){"use strict";cc._RF.push(e,"6f100s33xhGvpFUCITV0fbf","laser");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.positionXY=function(t){var e=cc.v2(this.node.position.x,this.node.position.y),o=t.getLocation(),n=(o=this.node.parent.parent.convertToNodeSpaceAR(o)).signAngle(e),i=cc.misc.radiansToDegrees(n);i=-1*i+45,this.node.angle=i},e.prototype.onLoad=function(){this.node.parent.parent.on("mousemove",this.positionXY,this)},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],popHero:[function(t,e,o){"use strict";cc._RF.push(e,"848935Cp+JKcKGS69AwYcRd","popHero");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.target=null,e.camera=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.checkAngle=function(){if(null!=this.target){var t=this.target,e=t.position.add(cc.v3(-this.camera.position.x,-this.camera.position.y));e=t.parent.convertToWorldSpaceAR(e),e=this.node.parent.convertToNodeSpaceAR(e);var o=this.node.position,n=e.x-o.x!=0?(e.y-o.y-30)/(e.x-o.x):0,i=Math.atan(n)*(180/Math.PI);return o.x<=e.x?i:i+180}},e.prototype.update=function(){this.node.angle=this.checkAngle(),this.icon.angle=-this.node.angle},c([a(cc.Node)],e.prototype,"icon",void 0),c([a(cc.Node)],e.prototype,"target",void 0),c([a(cc.Node)],e.prototype,"camera",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],rangeEnemyListener:[function(t,e,o){"use strict";cc._RF.push(e,"d61d7/9EOhL/oeQBQH2cM9p","rangeEnemyListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../hero/hero"),s=t("../enemy"),a=cc._decorator,l=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.className=null,e}return i(e,t),e.prototype.start=function(){this.className=this.__classname__},e.prototype.onCollisionEnter=function(t){t.node.getComponent(r.default)&&(this.target.getComponent(s.default).attack(t.node),this.target.getComponent(s.default).arrHero.push(t.node))},e.prototype.onCollisionExit=function(t){t.node.getComponent(r.default)&&this.target.getComponent(s.default).exitTarget(t.node._id)},c([p(cc.Node)],e.prototype,"target",void 0),c([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../enemy":"enemy","../hero/hero":"hero"}],rangeHeroListener:[function(t,e,o){"use strict";cc._RF.push(e,"0bc09FawitI6oRiq1LqEXeV","rangeHeroListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./hero/hero"),s=t("./enemyListener"),a=cc._decorator,l=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.className=null,e}return i(e,t),e.prototype.start=function(){this.className=this.__classname__},e.prototype.onCollisionEnter=function(t){t.node.getComponent(s.default)&&t.node.getComponent(s.default).target&&this.target.getComponent(r.default)&&this.target.getComponent(r.default).enemyArr.push(t.node.getComponent(s.default).target)},e.prototype.onCollisionExit=function(t){t.node.getComponent(s.default)&&t.node.getComponent(s.default).target&&this.target.getComponent(r.default)&&this.target.getComponent(r.default).removeEnemy(t.node._id)},e.prototype.onCollisionStay=function(t){this.target.getComponent(r.default)&&t.node.getComponent(s.default)&&t.node.getComponent(s.default).target&&0==this.target.getComponent(r.default).isAttack&&this.target.getComponent(r.default).attack()},c([p(cc.Node)],e.prototype,"target",void 0),c([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./enemyListener":"enemyListener","./hero/hero":"hero"}],rangeTargetEnemy:[function(t,e,o){"use strict";cc._RF.push(e,"6d6e5SADCFOmIawX7BwqX7p","rangeTargetEnemy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){t.node.getComponent("heroListener")&&(this.node.parent.getComponent("enemy").isFreeze=!1,this.node.parent.getComponent("enemy").run())},e.prototype.onCollisionStay=function(t){t.node.getComponent("heroListener")&&(this.node.parent.getComponent("enemy").isFreeze=!1)},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],skillListener:[function(t,e,o){"use strict";cc._RF.push(e,"5f8faGIr1dIdKWfbtbF5nMj","skillListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},c([a(cc.Label)],e.prototype,"label",void 0),c([a],e.prototype,"text",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],status:[function(t,e,o){"use strict";cc._RF.push(e,"50c469ZTxFJ0o6BVzVQD4D6","status");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbEnemyName=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setName=function(t){this.lbEnemyName.string=t},c([a(cc.Label)],e.prototype,"lbEnemyName",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],treeListener:[function(t,e,o){"use strict";cc._RF.push(e,"134ddWv0WFGRrZctqdDmZFf","treeListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],tree:[function(t,e,o){"use strict";cc._RF.push(e,"1e322GVUqlIHqHeZJRuo0AW","tree");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.preWood=null,e.preWhellTree=100,e.heal=100,e}return i(e,t),e.prototype.start=function(){this.heal=this.preWhellTree},e.prototype.attacked=function(t){this.heal-=t,this.node.getChildByName("heroaura")&&(this.node.getChildByName("heroaura").active=!1,this.node.getChildByName("tree_yellow").active=!1),this.heal<=0?(this.anim.play("tree_cutted"),this.addWood()):this.anim.play("tree_cutting")},e.prototype.addWood=function(){for(var t=this,e=0;e<3;e++)this.scheduleOnce(function(){var e=cc.instantiate(t.preWood);e.parent=t.node,e.position=cc.v3(0,50),t.scheduleOnce(function(){cc.Canvas.instance.node.getComponent("Game17").moveWood(e)},.8)},.1*e)},c([a(cc.Animation)],e.prototype,"anim",void 0),c([a(cc.Prefab)],e.prototype,"preWood",void 0),c([a(cc.Integer)],e.prototype,"preWhellTree",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],updateBar:[function(t,e,o){"use strict";cc._RF.push(e,"00640rtX/pCuIYFAk2ViewZ","updateBar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCount=null,e.fillbar=null,e.text=null,e.iconRuby=null,e.count=0,e.mission=10,e}return i(e,t),e.prototype.start=function(){},e.prototype.updateBar=function(){this.count=this.count+2,this.lbCount.node.getComponent(cc.Animation).play("text_animation"),this.lbCount.string=this.count.toString()+"/"+this.mission.toString(),this.fillbar.fillRange=this.count/this.mission},e.prototype.reset=function(t){this.count=0,this.mission=t,this.lbCount.string=this.count.toString()+"/"+this.mission.toString(),this.fillbar.fillRange=0},e.prototype.setMission2=function(){this.text.string="Collect 10 Ruby",this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.iconRuby},c([a(cc.Label)],e.prototype,"lbCount",void 0),c([a(cc.Sprite)],e.prototype,"fillbar",void 0),c([a(cc.Label)],e.prototype,"text",void 0),c([a(cc.SpriteFrame)],e.prototype,"iconRuby",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["Constant","Game","JoyStick","Game17","Game21","arrow","Skill","anim","bar","popHero","btnHero","bullet","cardRR","charMap","chest","Chest","ChestListener","AdManager","PlatformBrandIcon","effect","enemy","enemyListener","bulletEnemyListener","chimera","darkOctopus","dragon","enemySkillListener","eventBossListener","giantRock","rangeEnemyListener","rangeTargetEnemy","gamePlay","gem","hand","heroListener","Arthur","Circle","EventHeroListener","Goku","Mako","Wukong","bulletHeroListener","hero","house","kaboom","laser","skillListener","treeListener","rangeHeroListener","status","tree","updateBar"]);