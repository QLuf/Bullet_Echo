{"version":3,"sources":["assets\\script\\chest\\ChestListener.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAsC,4BAAY;IAAlD;QAAA,qEA0CC;QAxCG,cAAQ,GAAG,IAAI,CAAC;QAEhB,WAAK,GAAG,KAAK,CAAA;QAQb,aAAO,GAAG,KAAK,CAAA;;IA8BnB,CAAC;IApCG,wBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;IACD,mCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;IAE5B,CAAC;IAED,kCAAe,GAAf,UAAgB,KAAK,EAAE,IAAI;QAA3B,iBA4BC;QA3BG,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,EAAE;YACrB,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;gBACzC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAA;gBACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,CAAA;aAE/C;SACJ;aAAM;YACH,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;gBACzC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;gBACvB,IAAI,UAAU,CAAC,IAAI,IAAI,GAAG,EAAE;oBACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1D,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAA;iBAC5B;qBACI;oBACD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;wBACf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,CAAA;wBAC/C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;wBACnB,IAAI,CAAC,YAAY,CAAC;4BACd,KAAI,CAAC,OAAO,GAAG,KAAK,CAAA;wBACxB,CAAC,EAAE,GAAG,CAAC,CAAA;qBACV;iBACJ;aAGJ;SACJ;IAEL,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;2CACR;IAJI,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA0C5B;IAAD,eAAC;CA1CD,AA0CC,CA1CqC,EAAE,CAAC,SAAS,GA0CjD;kBA1CoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    gamePlay = null;\n    @property(cc.Boolean)\n    isEnd = false\n\n    start() {\n        this.gamePlay = cc.Canvas.instance.node.getComponent(\"Game21\");\n    }\n    onCollisionEnter(other, self) {\n\n    }\n    isDelay = false\n    onCollisionStay(other, self) {\n        if (this.isEnd == false) {\n            if (other.node.getComponent('heroListener')) {\n                console.log(\"haveChest\")\n                this.node.getComponent(\"Chest\").clickChest()\n\n            }\n        } else {\n            if (other.node.getComponent('heroListener')) {\n                console.log(\"end task\")\n                if (globalThis.gold >= 500) {\n                    this.node.getComponent(cc.CircleCollider).enabled = false;\n                    this.gamePlay.onEndGame()\n                }\n                else {\n                    if (!this.isDelay) {\n                        this.node.getComponent(\"Chest\").notEnoughGold()\n                        this.isDelay = true\n                        this.scheduleOnce(() => {\n                            this.isDelay = false\n                        }, 0.7)\n                    }\n                }\n\n\n            }\n        }\n\n    }\n}\n"]}