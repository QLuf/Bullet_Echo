{"version":3,"sources":["assets\\script\\gamePlay.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nglobalThis.gold = 0\nimport H from \"./hero/hero\"\ndeclare const window: any;\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Node)\n    hero: cc.Node = null;\n    @property(cc.Node)\n    hero2: cc.Node = null;\n    @property(cc.Node)\n    eff_summon: cc.Node = null;\n    @property(cc.Node)\n    btnStart: cc.Node = null;\n    @property(cc.Node)\n    btnStart2: cc.Node = null;\n    @property(cc.Camera)\n    mainCamera: cc.Camera = null;\n    @property(cc.Camera)\n    uiCamera: cc.Camera = null;\n    @property(cc.Node)\n    gate: cc.Node = null;\n\n    @property(cc.Node)\n    listHero1: cc.Node = null;\n    @property(cc.Node)\n    listHero2: cc.Node = null;\n    @property(cc.Node)\n    listHeroDefault: cc.Node = null;\n    @property(cc.Node)\n    heroNode: cc.Node = null;\n    @property(cc.Node)\n    tree2: cc.Node = null\n    @property(cc.Prefab)\n    preDamage: cc.Prefab = null\n    @property(cc.Prefab)\n    preFxAtk: cc.Prefab = null\n\n    @property(cc.Node)\n    listTree: cc.Node[] = [];\n    @property(cc.Node)\n    unlockNode: cc.Node = null;\n    @property(cc.Prefab)\n    preWood: cc.Prefab = null;\n    @property(cc.Prefab)\n    preWood2: cc.Prefab = null;\n    @property(cc.Node)\n    missionBar: cc.Node = null;\n    @property(cc.Node)\n    sceneBattle: cc.Node = null;\n    @property(cc.Node)\n    bloodBar: cc.Node = null\n    @property(cc.Node)\n    boss: cc.Node = null\n    //nhac\n    @property(cc.AudioClip)\n    soundBg: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundChop: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundWoddy: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundWoodin: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundWoodOut: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundQuestComplete: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundSword: cc.AudioClip = null;\n    @property(cc.AudioClip)\n    soundLight: cc.AudioClip = null;\n\n    @property(cc.AudioClip)\n    soundVictory: cc.AudioClip = null;\n\n    @property(cc.Node)\n    endGameNode: cc.Node = null;\n    @property(cc.Node)\n    textGuide: cc.Node = null;\n    @property(cc.Node)\n    linkToStore: cc.Node = null;\n    @property(cc.Node)\n    coinBar: cc.Node = null;\n    @property(cc.Node)\n    bossBar: cc.Node = null;\n    @property(cc.Node)\n    listBtn: cc.Node = null;\n    @property(cc.Node)\n    uiNode: cc.Node = null;\n    @property(cc.Node)\n    warning: cc.Node = null;\n    @property(cc.Node)\n    iconGG: cc.Node = null;\n    @property(cc.Node)\n    scene1: cc.Node = null;\n    @property(cc.Prefab)\n    preDie: cc.Prefab = null;\n    @property(cc.Node)\n    guild2: cc.Node = null;\n\n    @property(cc.Prefab)\n    skillLight: cc.Prefab = null;\n    @property(cc.Prefab)\n    skillSword: cc.Prefab = null;\n    @property(cc.Node)\n    popHero: cc.Node = null;\n    isEndGame = false;\n    isPus = 0\n    isPauseGame = false;\n    heroComp = null;\n    isStep = 1;\n    isMoving = false;\n    isvertical = false\n    isZoomed = false\n    onLoad() {\n        // window.gameReady && window.gameReady();\n\n        cc.director.getPhysicsManager().enabled = true;\n        let manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n\n        this.makeResponsive();\n        cc.audioEngine.play(this.soundBg, true, 0.5);\n        this.scheduleOnce(() => {\n            this.listTree[0].getChildByName(\"arrow1\").active = true\n        }, 0.5)\n    }\n\n\n    start() {\n\n        this.heroComp = this.hero.getComponent('hero');\n        // this.hero.zIndex = 3;\n    }\n    update(dt) {\n        if (!this.isMoving) {\n            this.mainCamera.node.setPosition(this.hero.position.add(cc.v3(-70, 50)));\n        }\n        let canvas = this.node.getComponent(cc.Canvas);\n\n        if (cc.winSize.width < cc.winSize.height) {\n            if (!this.isvertical) {\n                this.isvertical = true;\n                // this.mainCamera.zoomRatio = 2.2\n\n                canvas.fitHeight = false;\n                canvas.fitWidth = true;\n                this.isPus = 0\n                // if (this.isZoomed) {\n                //     this.mainCamera.zoomRatio = 1.1\n\n                // }\n                // else {\n                //     this.mainCamera.zoomRatio = 1\n\n                // }\n                this.iconGG.scale = 1\n                this.coinBar.scale = 1\n                if (cc.winSize.height / cc.winSize.width < 1.35) {\n                    canvas.fitHeight = true;\n\n                }\n\n\n            }\n        }\n        else {\n\n            // this.mainCamera.zoomRatio = 2.2\n            this.isvertical = false;\n            canvas.fitHeight = true;\n            canvas.fitWidth = false;\n            this.iconGG.scale = 1.3\n            this.coinBar.scale = 1.3\n            this.isPus = 80\n        }\n    }\n\n    btnCollect(event) {\n        console.log(event)\n        if (this.isStep < 2) {\n            this.scheduleOnce(() => {\n                this.listTree[this.isStep].getChildByName(\"arrow1\").active = true\n                this.listTree[this.isStep].getComponent(cc.Button).enabled = true\n                this.isStep++\n            }, 1.8)\n        }\n        else {\n            this.scheduleOnce(() => {\n                this.missionBar.getComponent(cc.Animation).play(\"mission_complete\")\n                cc.audioEngine.play(this.soundQuestComplete, false, 1)\n                this.missionBar.getComponent(\"updateBar\").reset(1)\n            }, 2.7)\n            this.scheduleOnce(() => {\n\n                this.moveCam1()\n                // this.isMoving = false\n\n            }, 3)\n        }\n        let tree = event.currentTarget;\n        tree.getComponent(cc.Button).enabled = false\n        tree.getChildByName(\"arrow1\").active = false\n        this.heroComp.movePos(tree)\n\n\n    }\n    isPhase = 1;\n    moveWood(wood) {\n        cc.audioEngine.play(this.soundWoodin, false, 1)\n        let pos = this.missionBar.position\n        pos = pos.add(cc.v3(-50, 0))\n        let pos2 = wood.parent.convertToWorldSpaceAR(wood.position);\n        pos2 = this.uiNode.convertToNodeSpaceAR(pos2)\n        if (this.isPhase == 1) {\n            wood.parent = this.uiNode;\n\n            wood.scale *= 1.3\n\n            // wood.position = pos2.add(cc.v3(-this.mainCamera.node.position.x, -this.mainCamera.node.position.y));\n\n            cc.tween(wood).to(0.4, { position: pos }).call(() => {\n                this.missionBar.getComponent(\"updateBar\").updateBar();\n                wood.getComponent(cc.Animation).play(\"exp\")\n                cc.audioEngine.play(this.soundWoodOut, false, 1)\n            }).start()\n        }\n\n    }\n    moveCam1() {\n        this.isMoving = true\n\n        this.heroComp.moveToPos(cc.v3(-450, -120), 1.2)\n        cc.tween(this.mainCamera.node).to(1.2, { position: cc.v3(-834, -5.3) }).start()\n        cc.tween(this.mainCamera).by(1.2, { zoomRatio: 0.3 }).call(() => {\n            this.transWood(this.gate)\n        }).start()\n    }\n    transWood(nodeEnd) {\n        let pos = nodeEnd.position\n        for (let i = 0; i < 8; i++) {\n            let wood = cc.instantiate(this.preWood);\n            wood.parent = this.scene1;\n            wood.position = this.hero.position;\n            wood.scale = 1.2\n            let midPos = cc.v2((this.hero.x + pos.x + 90) / 2, (this.hero.y + 200))\n            let endPos = pos.add(cc.v3(0, 0))\n\n            cc.tween(wood).delay(i * 0.08).set({ opacity: 255 }).call(() => {\n                cc.audioEngine.play(this.soundWoodin, false, 1)\n            })\n                .parallel(\n                    cc.tween().bezierTo(0.3, cc.v2(this.hero.x, this.hero.y), midPos, cc.v2(endPos.x, endPos.y)).call(() => {\n                        if (i == 7) {\n                            this.summonHero()\n                        }\n                        wood.getComponent(cc.Animation).play(\"exp\")\n                    }),\n                    cc.tween().by(0.3, { angle: 360 })\n                ).start()\n        }\n    }\n    transWood2(nodeEnd) {\n        let pos = nodeEnd.position\n        for (let k = 0; k < 2; k++) {\n            let preHero = (k == 0) ? this.hero : this.hero2\n            for (let i = 0; i < 8; i++) {\n                let wood = cc.instantiate(this.preWood);\n                wood.parent = this.scene1;\n                wood.position = preHero.position;\n                wood.scale = 1.2\n                let midPos = cc.v2((preHero.x + pos.x + 90) / 2, (preHero.y + 200))\n                let endPos = pos.add(cc.v3(0, 0))\n\n                cc.tween(wood).delay(i * 0.08).set({ opacity: 255 }).call(() => {\n                    cc.audioEngine.play(this.soundWoodin, false, 1)\n                })\n                    .parallel(\n                        cc.tween().bezierTo(0.3, cc.v2(preHero.x, this.hero.y), midPos, cc.v2(endPos.x, endPos.y)).call(() => {\n                            if (i == 7 && k == 1) {\n                                this.summonHero2()\n                            }\n                            wood.getComponent(cc.Animation).play(\"exp\")\n                        }),\n                        cc.tween().by(0.3, { angle: 360 })\n                    ).start()\n            }\n        }\n\n\n    }\n    summonHero2() {\n        this.popHero.getComponent(cc.Animation).play(\"pop_close\")\n        this.scheduleOnce(() => {\n            this.listHeroDefault.active = true\n            cc.audioEngine.play(this.soundQuestComplete, false, 2)\n\n            this.scheduleOnce(() => {\n                // this.btn_Start2()\n                this.btnStart2.active = true\n            }, 0.4)\n        }, 0.5)\n\n    }\n    btn_Start2(event) {\n        this.sceneBattle.getChildByName(\"endGame\").active = false\n        cc.audioEngine.play(this.soundQuestComplete, false, 1)\n\n        // this.endGameNode.active = false;\n        this.sceneBattle.active = true;\n        this.listHero1.active = false\n        event.currentTarget.active = false;\n        this.mainCamera.zoomRatio = 1;\n        this.sceneBattle.active = true;\n        this.mainCamera.node.position = cc.v3(0, 0);\n        this.scheduleOnce(() => {\n            this.listHero2.active = true\n            this.bloodBar.active = true;\n\n        }, 0.3)\n        this.scheduleOnce(() => {\n            this.moveHero2()\n        }, 0.45)\n    }\n    showSkill() {\n        let arrPos = [cc.v3(0, 0), cc.v3(-300, -50), cc.v3(-150, -10), cc.v3(-200, 20), cc.v3(-100, -30)]\n        let count = 0\n        this.schedule(() => {\n\n            let light = cc.instantiate(this.skillLight)\n            light.parent = this.sceneBattle;\n            light.position = this.boss.position\n            light.zIndex = 10\n            if (count < 5) {\n                light.position = this.boss.position.add(arrPos[count])\n\n                count++\n            }\n            else {\n                count = 0\n            }\n            cc.audioEngine.play(this.soundLight, false, 0.8)\n\n            this.scheduleOnce(() => {\n                this.createDamageBoss(this.boss.position)\n            }, 0.4)\n        }, 0.6)\n        this.scheduleOnce(() => {\n            let light = cc.instantiate(this.skillSword)\n            light.parent = this.sceneBattle;\n            light.position = this.boss.position.add(cc.v3(-2, 0))\n            light.zIndex = 10\n            cc.audioEngine.play(this.soundSword, false, 0.8)\n        }, 2)\n        this.scheduleOnce(() => {\n            let light = cc.instantiate(this.skillSword)\n            light.parent = this.sceneBattle;\n            light.position = this.boss.position.add(cc.v3(-2, 0))\n            light.zIndex = 10\n            this.scheduleOnce(() => {\n                cc.audioEngine.play(this.soundSword, false, 1)\n\n            }, 0.3)\n\n        }, 4)\n    }\n    moveHero2() {\n        for (let child of this.listHero2.children) {\n            child.getComponent(H).moveByPos(cc.v3(0, 300), 1)\n            this.scheduleOnce(() => {\n                let p = (child.getChildByName(\"icon\").scaleX > 0) ? cc.v3(-100, 80) : cc.v3(100, 80)\n                this.schedule(() => {\n                    this.createDamage(child.position.add(p))\n\n                }, 0.8)\n                this.createDamage(child.position.add(p))\n            }, 1)\n        }\n        this.scheduleOnce(() => {\n            this.showSkill()\n        }, 1)\n\n\n\n    }\n    summonHero() {\n        this.eff_summon.active = true\n        this.missionBar.getComponent(cc.Animation).play(\"mission_complete2\")\n        cc.audioEngine.play(this.soundQuestComplete, false, 2)\n        this.scheduleOnce(() => {\n            this.hero2.active = true;\n            this.missionBar.active = false\n        }, 0.3)\n        this.scheduleOnce(() => {\n            this.hero2.getComponent(H).moveToPos(cc.v3(-595, -160), 0.8)\n            this.hero.getComponent(H).moveToPos(cc.v3(-519, -154), 0.8)\n            this.scheduleOnce(() => {\n                this.btnStart.active = true;\n\n            }, 0.7)\n        }, 0.8)\n\n    }\n    btn_battle(event) {\n        // this.isPhase = 2\n\n        // event.currentTarget.active = false;\n        // cc.audioEngine.play(this.soundQuestComplete, false, 1)\n\n        // this.mainCamera.zoomRatio = 1;\n        // this.sceneBattle.active = true;\n        // this.mainCamera.node.position = cc.v3(0, 0);\n        // this.warning.active = true;\n        // let pos = [cc.v3(146, -106), cc.v3(-102, -134)];\n        // this.scheduleOnce(() => {\n        //     this.bloodBar.active = true;\n        //     this.listHero1.children[0].getComponent(H).moveToPos(cc.v3(146, -0), 1)\n        //     this.scheduleOnce(() => {\n        //         this.listHero1.children[0].getComponent(H).skill1(\"arthur\")\n        //     }, 0.8)\n        //     this.scheduleOnce(() => {\n        //         this.listHero1.children[1].getComponent(H).skill1(\"woody\")\n        //     }, 0.8)\n        //     this.listHero1.children[1].getComponent(H).moveToPos(cc.v3(-102, -30), 1)\n        // }, 0.3)\n\n    }\n    endPhase1() {\n        for (let child of this.listHero1.children) {\n            let pos = child.position;\n            let die = cc.instantiate(this.preDie);\n            die.parent = this.listHero1.parent;\n            die.position = pos.add(cc.v3(0, 50))\n            die.zIndex = 3\n        }\n        this.listHero1.children[0].active = false;\n        this.listHero1.children[1].active = false;\n        this.scheduleOnce(() => {\n            this.sceneBattle.getChildByName(\"endGame\").active = true\n        }, 0.5)\n        this.scheduleOnce(() => {\n            this.tree2.active = true\n\n\n            this.sceneBattle.active = false;\n            this.warning.active = false;\n            this.bloodBar.active = false;\n            this.scheduleOnce(() => {\n                this.hero.position = cc.v3(52, -109);\n                this.hero2.position = cc.v3(110, -92)\n                this.hero2.getChildByName(\"icon\").scaleX = 1.3\n                this.hero.getChildByName(\"fxAppear\").active = true\n                this.hero.getChildByName(\"fxAppear\").getComponent(cc.Animation).play()\n                this.hero2.getChildByName(\"fxAppear\").active = true\n\n                this.hero2.getChildByName(\"fxAppear\").getComponent(cc.Animation).play()\n            }, 0.2)\n            this.scheduleOnce(() => {\n                this.guild2.active = true\n            }, 0.4)\n\n        }, 1.3)\n\n    }\n    btnPhase2(event) {\n        this.mainCamera.node.position = this.hero.position.add(cc.v3(-70, 50))\n        this.guild2.active = false\n        this.popHero.active = true\n        event.currentTarget.getComponent(cc.Button).enabled = false\n        let tree = event.currentTarget\n        // this.heroComp.moveToPos(tree)\n        this.heroComp.moveToPos(cc.v3(-51, -113), 0.6)\n        this.hero2.getComponent(H).moveToPos(cc.v3(-18, -13), 0.6)\n        this.scheduleOnce(() => {\n            this.heroComp.chop(event.currentTarget)\n            this.hero2.getComponent(H).chop(this.tree2.children[0])\n\n        }, 0.6)\n        this.scheduleOnce(() => {\n            this.moveCam2()\n        }, 2)\n        this.isMoving = false\n    }\n    moveCam2() {\n        this.isMoving = true\n        this.hero2.getComponent(H).moveToPos(cc.v3(-455, -90), 1.7)\n        this.heroComp.moveToPos(cc.v3(-485, -120), 1.7)\n        cc.tween(this.mainCamera.node).to(1.7, { position: cc.v3(-834, -5.3) }).start()\n        cc.tween(this.mainCamera).by(1.7, { zoomRatio: 0.2 }).call(() => {\n            this.transWood2(this.gate)\n        }).start()\n    }\n    // moveCam2() {\n    //     cc.tween(this.mainCamera.node).to(0.35, { position: cc.v3(350, 0 + this.isPus) }).call(() => {\n    //         this.enemyNode.active = true\n    //         this.scheduleOnce(() => {\n    //             this.warning.active = true;\n    //         }, 0.5)\n    //     }).delay(0.6).to(0.4, { position: cc.v3(260, 0 + this.isPus) }).start()\n    //     let zoom = (this.isvertical) ? 1.1 : 2.2\n    //     cc.tween(this.mainCamera).delay(1.1).to(0.4, { zoomRatio: zoom }).call(() => {\n    //         this.isZoomed = true\n    //         this.enemyNode.getChildByName(\"hand\").opacity = 255\n    //         this.linkToStore.active = true;\n    //         this.missionBar.getComponent(cc.Animation).play(\"unlock_showup\")\n\n    //     }).start()\n\n\n    // }\n\n    makeResponsive() {\n        let canvas = this.node.getComponent(cc.Canvas);\n        let deviceResolution = cc.view.getFrameSize();\n\n        // calculte design ratio\n        let desiredRatio = canvas.designResolution.width / canvas.designResolution.height;\n        // calculte device ratio\n        let deviceRatio = deviceResolution.width / deviceResolution.height;\n\n        if (deviceRatio >= desiredRatio) {\n            canvas.fitHeight = true;\n            canvas.fitWidth = false;\n        } else if (deviceRatio < desiredRatio) {\n            canvas.fitHeight = false;\n            canvas.fitWidth = true;\n        }\n    }\n    createHero(heroPre, value) {\n        let hero = cc.instantiate(heroPre)\n        hero.parent = this.heroNode;\n        let pos = this.hero.position\n        hero.position = pos.add(cc.v3(50, 50))\n        if (value == 1 || value == 2) {\n            hero.getComponent(\"hero\").skillIceArrow()\n            // hero.getComponent(\"hero\").idle()\n            this.scheduleOnce(() => {\n                if (value == 2) {\n                    hero.getComponent(\"hero\").check1()\n                }\n            }, 0.4)\n        }\n    }\n    isRed = false\n    updateBossBar() {\n        let bar = this.bossBar.getChildByName(\"bar\").getComponent(cc.Sprite);\n        bar.fillRange -= 0.015;\n        let iconBoss = this.bossBar.getChildByName(\"iconBoss\")\n        let value = -6\n\n        if (iconBoss.x - 5 < -168) {\n            iconBoss.x = -168\n            value = 0\n        }\n        cc.tween(iconBoss).by(0.2, { position: cc.v3(value, 0) }).start()\n        if (bar.fillRange <= 0.3) {\n            if (this.isRed == false) {\n                this.isRed = true\n                this.bossBar.getComponent(cc.Animation).play(\"red_bar\");\n\n            }\n\n        }\n    }\n    createDamage(pos) {\n        let damage = cc.instantiate(this.preDamage);\n        damage.parent = this.node\n        damage.position = pos;\n        let rd = Math.floor(Math.random() * 1000)\n        damage.scale = 2\n        // let damage = cc.instantiate(this.preDamage)\n        let valueDamage = rd + 1000\n        damage.getChildByName(\"count\").color = new cc.Color().fromHEX(\"#C236DD\")\n\n        if (valueDamage > 1200) {\n            damage.getChildByName(\"count\").color = new cc.Color().fromHEX(\"#C236DD\")\n        }\n        if (valueDamage > 1500) {\n            damage.getChildByName(\"count\").color = new cc.Color().fromHEX(\"#C53528\")\n        }\n        damage.getChildByName(\"count\").getComponent(cc.Label).string = \"-\" + valueDamage.toString()\n\n        let damagefx = cc.instantiate(this.preFxAtk);\n        damagefx.parent = this.node\n        damagefx.position = pos;\n        damagefx.scale = 1.4\n\n        this.boss.getComponent(\"boss\").attacked(90)\n\n\n    }\n    createDamageBoss(pos) {\n        console.log(\"create dame\")\n        let damage = cc.instantiate(this.preDamage);\n        damage.parent = this.node\n        damage.position = pos;\n        let rd = Math.floor(Math.random() * 1000)\n        damage.scale = 3\n        // let damage = cc.instantiate(this.preDamage)\n        let valueDamage = rd + 800\n        damage.getChildByName(\"count\").color = new cc.Color().fromHEX(\"#F59022\")\n        damage.getChildByName(\"count\").getComponent(cc.Label).string = \"-\" + valueDamage.toString()\n\n        let damagefx = cc.instantiate(this.preFxAtk);\n        damagefx.parent = this.node\n        damagefx.position = pos;\n        damagefx.scale = 1.4\n\n        this.boss.getComponent(\"boss\").attacked(107)\n\n\n    }\n    onEndGame() {\n        cc.audioEngine.play(this.soundVictory, false, 0.8)\n        this.unscheduleAllCallbacks()\n        this.bloodBar.active = false;\n        this.sceneBattle.getChildByName(\"endGame2\").active = true\n        this.linkToStore.active = true\n        for (let child of this.listHero2.children) {\n            child.getComponent(\"hero\").stopG()\n        }\n    }\n}\n"]}