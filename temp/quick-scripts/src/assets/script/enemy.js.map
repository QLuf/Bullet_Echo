{"version":3,"sources":["assets\\script\\enemy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { Constant } from \"./Constant\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Animation)\n    anim: cc.Animation = null;\n\n    @property(cc.CircleCollider)\n    bodyCollider: cc.CircleCollider = null;\n\n    @property(cc.PhysicsCircleCollider)\n    bodyPhysicsCollider: cc.PhysicsCircleCollider = null;\n\n    @property(cc.Sprite)\n    blood: cc.Sprite = null;\n    @property(cc.Prefab)\n    bulletPrefab: cc.Prefab = null;\n    @property(cc.Vec3)\n    bulletPos = cc.v3(0, 0, 0)\n    @property(cc.Boolean)\n    isAD = false\n    @property(cc.Boolean)\n    isBoss = false\n    @property(cc.Integer)\n    timeSpeed = 0;\n    @property(cc.Integer)\n    hp = 0;\n    @property(cc.Integer)\n    timeBullet = 400;\n    @property(cc.Integer)\n    damage = 0;\n    @property(cc.Integer)\n    tag = 0;\n    @property(cc.Label)\n    lbHP: cc.Label = null;\n    isMeet = false\n    isDie = false;\n    isFreeze = false;\n    maxHp = 0;\n    gamePlay = null;\n    isSkill = false\n    arrHero = []\n    isAttack = false\n    start() {\n        this.gamePlay = cc.Canvas.instance.node.getComponent('Game');\n        // this.node.zIndex = 2;\n        this.maxHp = this.hp\n        this.isFreeze = true;\n        if(this.tag==1){\n            this.moveIdle1()\n        }\n        if(this.tag==2){\n            this.moveIdle2()\n        }\n    }\n\n    run() {\n        // this.anim.play(\"move\")\n    }\n    moveIdle1() {\n        cc.tween(this.node).repeatForever(\n            cc.tween().set({ position: cc.v3(-166, 759) }).call(() => {\n                this.anim.node.angle = -90\n            }).to(1, { position: cc.v3(205, 700) }).call(() => {\n                this.anim.node.angle = 180\n            }).delay(0.8).call(() => {\n                this.anim.node.angle = 90\n            }).to(1, { position: cc.v3(-166, 759) }).delay(1)\n        ).start()\n    }\n    moveIdle2() {\n        cc.tween(this.node).repeatForever(\n            cc.tween().set({ position: cc.v3(-705.211, 497.407) }).call(() => {\n                this.anim.node.angle = 180\n            }).to(1, { position: cc.v3(-654.008, 67.024) }).call(() => {\n                this.anim.node.angle = 180\n            }).delay(0.8).call(() => {\n                this.anim.node.angle = 0\n            }).to(1, { position: cc.v3(-705.211, 497.407) }).delay(1)\n        ).start()\n    }\n    attacked(damage) {\n        if (this.isDie) return;\n        this.node.getComponent(cc.Animation).play()\n        this.hp -= damage;\n        this.lbHP.string = this.hp.toString()\n\n        if (this.gamePlay != null) {\n            this.gamePlay.createDamage(this.node.position)\n            if (this.isBoss) {\n                this.gamePlay.createDamageBoss(this.node.position)\n                this.node.getComponent(cc.Animation).play()\n            }\n        }\n\n        if (this.hp <= 0) {\n            this.hp = 0;\n            this.bodyCollider.enabled = false;\n            this.isDie = true;\n            this.node.stopAllActions();\n            this.unscheduleAllCallbacks();\n            this.anim.unscheduleAllCallbacks();\n            // this.gamePlay.heroComp.removeEnemy2(this.node);\n            // if (this.gamePlay != null) {\n            //     if (this.isBoss) {\n\n            //         this.gamePlay.bossDie(this.node.position)\n            //     }\n            //     else{\n            this.gamePlay.countDie(this.node.position);\n\n            //     }\n            // }\n            // this.gamePlay.createMeat(this.node.position);\n            this.node.active = false;\n            this.scheduleOnce(() => {\n                this.node.active=false\n\n            }, 0.3)\n\n        }\n        this.blood.fillRange = this.hp / this.maxHp;\n    }\n    completeEvent(type) {\n\n    }\n    addEvent(type) {\n\n    }\n    checkAngle(targetEnemy) {\n        let target = targetEnemy;\n        let tan = (target.x - this.node.x !== 0) ? (target.y - this.node.y - 30) / (target.x - this.node.x) : 0\n        let angle = Math.atan(tan) * (180 / (Math.PI));\n        angle = (this.node.x <= target.x) ? angle : angle + 180\n        return angle;\n    }\n    attack(target) {\n        if (this.isAttack) return;\n        this.isMeet = true;\n        this.isAttack = false\n        if (this.arrHero[0]) {\n            target = this.arrHero[0]\n\n        }\n        let targetComp = target.getComponent('hero');\n        if (this.isAD) {\n            // this.anim.play(\"atk\")\n            this.anim.scheduleOnce(() => {\n                this.anim.node.angle = this.checkAngle(target) - 90;\n\n                this.createBullet(target, targetComp)\n\n            }, 0.4)\n            this.anim.schedule(() => {\n                // this.anim.play(\"atk\")\n                this.anim.scheduleOnce(() => {\n                    this.anim.node.angle = this.checkAngle(target) - 90;\n\n                    this.createBullet(target, targetComp)\n\n                }, 0.4)\n            }, 1, cc.macro.REPEAT_FOREVER, 0.5)\n        }\n        else {\n            // this.anim.play(\"atk\")\n            this.anim.scheduleOnce(() => {\n                targetComp.attacked(this.damage);\n            }, 0.3)\n\n\n            this.anim.schedule(() => {\n                // this.anim.play(\"atk\")\n                this.anim.scheduleOnce(() => {\n                    targetComp.attacked(this.damage);\n                }, 0.3)\n            }, 0.8, cc.macro.REPEAT_FOREVER, 0.5)\n        }\n\n        // this.anim.schedule(() => {\n        //     if (this.isMeet) {\n        //         targetComp.attacked(this.damage);\n        //     }\n        // }, 1, cc.macro.REPEAT_FOREVER, 0.5);\n    }\n    createBullet(target, targetComp) {\n        let bullet = cc.instantiate(this.bulletPrefab);\n        this.node.parent.addChild(bullet);\n        bullet.zIndex = 10\n        bullet.opacity = 0\n        let pos = this.anim.node.convertToWorldSpaceAR(cc.v3(0, 167))\n        pos = this.node.parent.convertToNodeSpaceAR(pos)\n        // let bulletPos = (this.node.scaleX > 0) ? this.bulletPos : cc.v3(-this.bulletPos.x, this.bulletPos.y)\n        bullet.position = pos\n        let time = this.checkTimePos(bullet.position, target.position.add(cc.v3(0, 30)))\n\n\n\n        let param = 1500;\n        let angle2 = this.checkAngle2(this.node.position, target.position)\n        angle2 = cc.misc.degreesToRadians(angle2)\n        let pos3 = this.node.position.add(cc.v3(param * Math.cos(angle2), param * Math.sin(angle2)))\n        cc.tween(bullet).set({ opacity: 255 }).call(() => { bullet.getChildByName(\"trial\").active = true }).to(1, { position: pos3 }).call(() => {\n            targetComp.attacked(this.damage);\n            bullet.getChildByName(\"explode\").active = true\nbullet.destroy()\n        }).start()\n    }\n    checkTimePos(pos1, pos2) {\n        let time = pos1.sub(pos2).mag() / this.timeBullet\n        return time\n    }\n    exitTarget(idHero) {\n\n\n        this.arrHero.forEach((enemy, index) => {\n            if (enemy._id == idHero) this.arrHero.splice(index, 1);\n        })\n        // this.isTarget = false\n        if (this.arrHero.length == 0) {\n            this.isMeet = false;\n            this.isSkill = false;\n            // this.anim.play(\"move\");\n            this.anim.unscheduleAllCallbacks();\n\n        }\n\n\n\n\n\n    }\n    freeze() {\n        this.isFreeze = true;\n        this.node.getChildByName('snow').active = true;\n        this.bodyPhysicsCollider.enabled = false;\n        this.node.zIndex = 1;\n        this.scheduleOnce(() => {\n            this.isFreeze = false;\n            this.bodyPhysicsCollider.enabled = true;\n            this.node.getChildByName('snow').active = false;\n            this.node.zIndex = 2;\n        }, 2);\n    }\n    onPause(isPause) {\n        if (!this.isFreeze) {\n            // this.bodySkeleton.paused = isPause;\n        }\n        this.bodyCollider.enabled = !isPause;\n        // this.bodySkeleton.unscheduleAllCallbacks();\n    }\n    checkAngle2(pos1, pos2) {\n        let tan = Math.abs(pos2.y - pos1.y) / Math.abs(pos2.x - pos1.x);\n        if (pos2.y == pos1.y) {\n            if (pos2.x > pos1.x) return 0;\n            if (pos2.x < pos1.x) return 180;\n        }\n\n        if (pos2.x == pos1.x) {\n            if (pos2.y > pos1.y) return 90;\n            if (pos2.y < pos1.y) return -90;\n        }\n        if (pos1.x == pos2.x && pos1.y == pos2.y) return 0;\n        if (pos1.x !== pos2.x && pos1.y !== pos2.y) {\n            if (pos2.x > pos1.x && pos2.y > pos1.y) return cc.misc.radiansToDegrees(Math.atan(tan));\n            if (pos2.x > pos1.x && pos2.y < pos1.y) return cc.misc.radiansToDegrees(Math.atan(tan)) * -1;\n            if (pos2.x < pos1.x && pos2.y > pos1.y) return (180 - cc.misc.radiansToDegrees(Math.atan(tan)));\n            if (pos2.x < pos1.x && pos2.y < pos1.y) return -(180 - cc.misc.radiansToDegrees(Math.atan(tan)));\n        }\n    }\n    update(dt) {\n        if (!this.isFreeze && !this.gamePlay.isPauseGame && this.isMeet == false && !this.isDie) {\n            let hero = this.gamePlay.hero;\n            // let localPos = this.node.position\n            // this.node.scaleX = (this.node.x <= hero.x + 10) ? -1 : 1;\n            let distance = Math.sqrt(Math.pow((this.node.x - hero.x), 2) + Math.pow((this.node.y - hero.y), 2))\n            this.node.x = this.node.x + (dt * ((this.node.x < hero.x) ? 1 : -1)) * (Math.abs(this.node.x - hero.x) * 10 / this.timeSpeed);\n            this.node.y = this.node.y + (dt * ((this.node.y < hero.y) ? 1 : -1)) * (Math.abs(this.node.y - hero.y) * 10 / this.timeSpeed);\n            this.node.getChildByName(\"icon\").angle = this.checkAngle2(this.node.position, this.gamePlay.hero.position) - 90;\n\n        }\n        if (this.gamePlay.isPauseGame) {\n            this.onPause(true);\n        }\n        if (!this.gamePlay.isPauseGame) {\n            this.onPause(false);\n        }\n\n    }\n}\n"]}