{"version":3,"sources":["assets\\script\\hero\\Circle.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,+BAA0B;AAIpB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAyEC;QAvEG,gBAAU,GAAY,IAAI,CAAA;QAC1B,cAAQ,GAAG,EAAE,CAAC;QACd,cAAQ,GAAG,IAAI,CAAC;;IAqEpB,CAAC;IApEG,wBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAA;IAClE,CAAC;IACD,2BAAQ,GAAR;QACI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;YAEzC,KAAkB,UAAqB,EAArB,KAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,EAArB,cAAqB,EAArB,IAAqB,EAAE;gBAApC,IAAI,KAAK,SAAA;gBACV,KAAK,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAA;gBACjD,KAAK,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;aACpD;YACD,gBAAgB;SACnB;aACI;YACD,KAAkB,UAAqB,EAArB,KAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,EAArB,cAAqB,EAArB,IAAqB,EAAE;gBAApC,IAAI,KAAK,SAAA;gBACV,KAAK,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,IAAI,EAAE,CAAA;aAClC;SACJ;IACL,CAAC;IACD,mCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EAAE;YACnC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;YAClC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAA;SACxD;IACL,CAAC;IAID,kCAAe,GAAf,UAAgB,KAAK,EAAE,IAAI;QACvB,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EAAE;YACnC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAA;YACjC,kCAAkC;YAClC,oFAAoF;SACvF;QACD,qCAAqC;QACrC,iDAAiD;QAEjD,gEAAgE;QAChE,QAAQ;QACR,wCAAwC;QACxC,uCAAuC;QACvC,0DAA0D;QAE1D,QAAQ;QACR,IAAI;IACR,CAAC;IACD,kCAAe,GAAf,UAAgB,KAAK,EAAE,IAAI;QACvB,+HAA+H;QAC/H,kDAAkD;QAClD,IAAI;QACJ,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EAAE;YACnC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAA;SACxD;IACL,CAAC;IACD,8BAAW,GAAX,UAAY,OAAO;QAAnB,iBAUC;QATG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK;YAC/B,IAAI,KAAK,CAAC,GAAG,IAAI,OAAO;gBAAE,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAA;QACF,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YAE3B,KAAkB,UAAqB,EAArB,KAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,EAArB,cAAqB,EAArB,IAAqB,EAAE;gBAApC,IAAI,KAAK,SAAA;gBACV,KAAK,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC,IAAI,EAAE,CAAA;aAClC;SACJ;IACL,CAAC;IACD,yBAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAA;IACjD,CAAC;IAtED;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACQ;IAFT,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAyE5B;IAAD,eAAC;CAzED,AAyEC,CAzEqC,EAAE,CAAC,SAAS,GAyEjD;kBAzEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["\nimport hero from './hero';\nimport enemy from '../enemy';\nimport EL from '../enemyListener';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Node)\n    targetHero: cc.Node = null\n    enemyArr = [];\n    gamePlay = null;\n    start() {\n        this.gamePlay = cc.Canvas.instance.node.getComponent(\"Game21\")\n    }\n    checkAtk() {\n        if (this.enemyArr.length > 0) {\n            console.log(\"atk\", this.gamePlay.arrHero)\n\n            for (let child of this.gamePlay.arrHero) {\n                child.getComponent(hero).enemyArr = this.enemyArr\n                child.getComponent(hero).attack(this.enemyArr[0])\n            }\n            // this.attack()\n        }\n        else {\n            for (let child of this.gamePlay.arrHero) {\n                child.getComponent(hero).stop()\n            }\n        }\n    }\n    onCollisionEnter(other, self) {\n        if (other.node.name == \"circleUpdate\") {\n            other.node.color = cc.Color.GREEN;\n            other.node.parent.getComponent(\"house\").checkUpdate()\n        }\n    }\n \n\n\n    onCollisionExit(other, self) {\n        if (other.node.name == \"circleUpdate\") {\n            other.node.color = cc.Color.WHITE\n            // this.enemyArr.push(other.node);\n            // this.target.getComponent(hero).enemyArr.push(other.node.getComponent(EL).target);\n        }\n        // if (other.node.getComponent(EL)) {\n        //     for (let child of this.gamePlay.arrHero) {\n\n        //         child.getComponent(hero).removeEnemy(other.node._id);\n        //     }\n        //     this.removeEnemy(other.node._id);\n        //     if (this.enemyArr.length == 0) {\n        //         this.node.color = cc.color().fromHEX(\"#98DBF5\")\n\n        //     }\n        // }\n    }\n    onCollisionStay(other, self) {\n        // if (other.node.getComponent(EL) && other.node.getComponent(EL).target && this.target.getComponent(hero).isAttack == false) {\n        //     // this.target.getComponent(hero).attack();\n        // }\n        if (other.node.name == \"circleUpdate\") {\n            other.node.parent.getComponent(\"house\").checkUpdate()\n        }\n    }\n    removeEnemy(idEnemy) {\n        this.enemyArr.forEach((enemy, index) => {\n            if (enemy._id == idEnemy) this.enemyArr.splice(index, 1);\n        })\n        if (this.enemyArr.length == 0) {\n\n            for (let child of this.gamePlay.arrHero) {\n                child.getComponent(hero).stop()\n            }\n        }\n    }\n    update(dt) {\n        this.node.position = this.targetHero.position\n    }\n}\n"]}