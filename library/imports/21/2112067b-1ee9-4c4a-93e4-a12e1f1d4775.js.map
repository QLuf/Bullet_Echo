{"version":3,"sources":["assets\\script\\enemy\\bulletEnemyListener.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oCAA8B;AACxB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAoDC;QAjDG,gBAAU,GAAY,IAAI,CAAA;;IAiD9B,CAAC;IA/CG,wBAAwB;IAExB,eAAe;IAEf,wBAAK,GAAL;IAEA,CAAC;IACD,oBAAoB;IACpB,4BAA4B;IAC5B,IAAI;IACJ,mCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;YACzC,IAAI,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC;YAC5D,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC;YACtD,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACxD,gCAAgC;YAChC,IAAI,CAAC,YAAY,CAAC;gBACd,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oBACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1D,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;oBAC3B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;oBAClD,qDAAqD;oBACrD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;iBACnD;YACL,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,YAAY,CAAC;gBACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAC;SACZ;QAED,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAE,OAAO,EAAE;YAE1B,IAAI,CAAC,YAAY,CAAC;gBACd,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oBACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1D,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;oBAC3B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;oBAClD,qDAAqD;oBACrD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;iBACnD;YACL,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,YAAY,CAAC;gBACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAC;SACZ;QACD,IAAI;IACR,CAAC;IAhDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACQ;IAHT,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAoD5B;IAAD,eAAC;CApDD,AAoDC,CApDqC,EAAE,CAAC,SAAS,GAoDjD;kBApDoB,QAAQ;AAsD7B,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["import bullet from '../bullet'\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Node)\n    bulletNode: cc.Node = null\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n\n    start() {\n\n    }\n    // setDame(damage) {\n    //     this.damage = damage;\n    // }\n    onCollisionEnter(other, self) {\n        if (other.node.getComponent('heroListener')) {\n            let target = other.node.getComponent('heroListener').target;\n            let bulletComp = this.bulletNode.getComponent(bullet);\n            target.getComponent('hero').attacked(bulletComp.damage);\n            // if (!bulletComp.isShuriken) {\n            this.scheduleOnce(() => {\n                if (self.node.getChildByName('explode')) {\n                    self.node.getComponent(cc.CircleCollider).enabled = false;\n                    self.node.stopAllActions();\n                    self.node.getChildByName('explode').active = true;\n                    // self.node.getChildByName('trail1').active = false;\n                    self.node.getChildByName('icon').active = false;\n                }\n            }, 0.01);\n            this.scheduleOnce(() => {\n                self.node.destroy();\n            }, 0.12);\n        }\n\n        if (other.node.name==\"wall1\") {\n       \n            this.scheduleOnce(() => {\n                if (self.node.getChildByName('explode')) {\n                    self.node.getComponent(cc.CircleCollider).enabled = false;\n                    self.node.stopAllActions();\n                    self.node.getChildByName('explode').active = true;\n                    // self.node.getChildByName('trail1').active = false;\n                    self.node.getChildByName('icon').active = false;\n                }\n            }, 0.01);\n            this.scheduleOnce(() => {\n                self.node.destroy();\n            }, 0.12);\n        }\n        // }\n    }\n}\n\n// update (dt) {}\n\n"]}