{"version":3,"sources":["assets\\script\\tree.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEA4CC;QA1CG,UAAI,GAAiB,IAAI,CAAC;QAE1B,aAAO,GAAc,IAAI,CAAC;QAE1B,kBAAY,GAAG,GAAG,CAAA;QAClB,UAAI,GAAG,GAAG,CAAA;;QAoCV,iBAAiB;IACrB,CAAC;IAnCG,wBAAK,GAAL;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAA;IACjC,CAAC;IACD,2BAAQ,GAAR,UAAS,MAAM;QACX,IAAI,CAAC,IAAI,IAAI,MAAM,CAAA;QACnB,IAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAC;YACpC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YACpD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SAC1D;QAGD,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;YAChB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;YAC7B,IAAI,CAAC,OAAO,EAAE,CAAA;SAEjB;aACI;YACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;SACjC;IACL,CAAC;IACD,0BAAO,GAAP;QAAA,iBAaC;QAZG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,YAAY,CAAC;gBACd,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,OAAO,CAAC,CAAA;gBACvC,IAAI,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;gBAC5B,KAAI,CAAC,YAAY,CAAC;oBACd,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;gBACjE,CAAC,EAAE,GAAG,CAAC,CAAA;YACX,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAA;SAEd;IAEL,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;0CACG;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6CACM;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;kDACH;IAND,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA4C5B;IAAD,eAAC;CA5CD,AA4CC,CA5CqC,EAAE,CAAC,SAAS,GA4CjD;kBA5CoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Animation)\n    anim: cc.Animation = null;\n    @property(cc.Prefab)\n    preWood: cc.Prefab = null;\n    @property(cc.Integer)\n    preWhellTree = 100\n    heal = 100\n\n    start() {\n        this.heal = this.preWhellTree\n    }\n    attacked(damage) {\n        this.heal -= damage\n        if(this.node.getChildByName(\"heroaura\")){\n            this.node.getChildByName(\"heroaura\").active = false;\n            this.node.getChildByName(\"tree_yellow\").active = false;\n        }\n      \n\n        if (this.heal <= 0) {\n            this.anim.play(\"tree_cutted\")\n            this.addWood()\n\n        }\n        else {\n            this.anim.play(\"tree_cutting\")\n        }\n    }\n    addWood() {\n        for (let i = 0; i < 3; i++) {\n            this.scheduleOnce(() => {\n                let wood = cc.instantiate(this.preWood)\n                wood.parent = this.node;\n                wood.position = cc.v3(0, 50)\n                this.scheduleOnce(() => {\n                    cc.Canvas.instance.node.getComponent(\"Game17\").moveWood(wood)\n                }, 0.8)\n            }, i * 0.1)\n\n        }\n\n    }\n    // update (dt) {}\n}\n"]}