{"version":3,"sources":["assets\\script\\enemy\\dragon.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,kCAA4B;AACtB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAK;IAA3C;QAAA,qEA6HC;QA5HG,uBAAuB;QACvB,gCAAgC;QAChC,uBAAuB;QACvB,8BAA8B;QAE9B,gBAAU,GAAY,IAAI,CAAC;QAE3B,eAAS,GAAc,IAAI,CAAC;QAE5B,eAAS,GAAc,IAAI,CAAC;QAC5B,cAAQ,GAAG,CAAC,CAAC;QAEb,cAAQ,GAAiB,IAAI,CAAC;QAC9B,qBAAe,GAAG,KAAK,CAAA;;IA+G3B,CAAC;IA9GG,yBAAM,GAAN,UAAO,MAAM;QAAb,iBASC;QARG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;YACnB,UAAU,CAAC,QAAQ,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAErC,CAAC,EAAE,GAAG,CAAC,CAAA;QAEP,IAAI,CAAC,MAAM,EAAE,CAAA;IACjB,CAAC;IACD,0BAAO,GAAP;QAAA,iBAyBC;QAxBG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QACrB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,iDAAiD;YACjD,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAEjC,CAAC,EAAE,GAAG,CAAC,CAAA;SACV;QACD,QAAQ,IAAI,CAAC,QAAQ,EAAE;YACnB,KAAK,CAAC;gBACF,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,MAAM,EAAE,CAAA;gBAEb,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,QAAQ,EAAE,CAAA;gBACf,IAAI,CAAC,MAAM,EAAE,CAAA;gBACb,MAAM;YACV;gBACI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,CAAC,MAAM,EAAE,CAAA;gBACb,MAAM;SACb;IACL,CAAC;IACD,yBAAM,GAAN;QAAA,iBA+BC;QA9BG,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC;YAC3F,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC;SACzG,CAAA;gCACQ,CAAC;YACN,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YAClB,KAAK,GAAG,KAAK,GAAG,GAAG,CAAA;YACnB,OAAK,YAAY,CAAC;gBAEd,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;gBAC5C,MAAM,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC;gBACjC,MAAM,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAA;gBACjD,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;oBACxD,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;wBAClC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;wBACvD,MAAM,CAAC,cAAc,EAAE,CAAC;wBACxB,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC/C,kDAAkD;wBAClD,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;qBAChD;gBACL,CAAC,CAAC,CAAC,KAAK,EAAE,CAAA;YACd,CAAC,EAAE,KAAK,CAAC,CAAA;;;QAjBb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;oBAAlB,CAAC;SAmBT;QACD,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,KAAI,CAAC,MAAM,EAAE,CAAA;QACjB,CAAC,EAAE,GAAG,CAAC,CAAA;IAEX,CAAC;IACD,yBAAM,GAAN;QACI,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAE7B,CAAC;IACD,gCAAa,GAAb,UAAc,IAAI;QACd,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,QAAQ,IAAI,EAAE;YACV,KAAK,QAAQ;gBACT,kBAAkB;gBAClB,IAAI,CAAC,MAAM,EAAE,CAAA;gBACb,MAAM;YACV,KAAK,QAAQ;gBACT,iBAAiB;gBACjB,IAAI,CAAC,MAAM,EAAE,CAAA;gBACb,MAAK;SACZ;IACL,CAAC;IACD,2BAAQ,GAAR,UAAS,IAAI;QACT,QAAQ,IAAI,EAAE;YACV,KAAK,QAAQ;gBACT,iBAAiB;gBACjB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAA;gBACjD,MAAM;YACV,KAAK,QAAQ;gBACT,IAAI,CAAC,MAAM,EAAE,CAAA;gBACb,MAAK;SACZ;IACL,CAAC;IAED,6BAAU,GAAV;QACI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;QACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;QACtB,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;IACvC,CAAC;IACD,yBAAM,GAAN,UAAO,EAAO;IAEd,CAAC;IArHD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACS;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACQ;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;8CACO;IAbb,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA6H5B;IAAD,eAAC;CA7HD,AA6HC,CA7HqC,eAAK,GA6H1C;kBA7HoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["\nimport enemy from \"../enemy\"\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends enemy {\n    // @property(cc.Prefab)\n    // atk_around: cc.Prefab = null;\n    // @property(cc.Prefab)\n    // atk_down: cc.Prefab = null;\n    @property(cc.Node)\n    skill2Node: cc.Node = null;\n    @property(cc.Prefab)\n    skill1Pre: cc.Prefab = null;\n    @property(cc.Prefab)\n    preBullet: cc.Prefab = null;\n    countAtk = 0;\n    @property(cc.AudioClip)\n    atkSOund: cc.AudioClip = null;\n    isCountDowskill = false\n    attack(target) {\n        this.isMeet = true;\n        let targetComp = target.getComponent('hero');\n        this.anim.scheduleOnce(() => {\n            targetComp.attacked(this.damage);\n\n        }, 0.3)\n      \n        this.skill2()\n    }\n    atkList() {\n        this.anim.play(\"atk\")\n        if (!this.isCountDowskill) {\n            this.isCountDowskill = true;\n            // cc.audioEngine.play(this.atkSOund, false, 0.8)\n            this.scheduleOnce(() => {\n                this.isCountDowskill = false;\n\n            }, 0.2)\n        }\n        switch (this.countAtk) {\n            case 2:\n                this.countAtk = 0;\n                this.skill1()\n\n                break;\n            case 1:\n                this.countAtk++\n                this.skill2()\n                break;\n            default:\n                this.countAtk++;\n                this.skill1()\n                break;\n        }\n    }\n    skill1() {\n        if (this.isSkill) return;\n        this.isSkill = true;\n        let arrBullet = [cc.v3(-231, -510), cc.v3(-126, -637), cc.v3(-325, -623), cc.v3(-142, -515),\n        cc.v3(-428, -579), cc.v3(-314, -530), cc.v3(-217, -601), cc.v3(0, -534), cc.v3(-390, -540),cc.v3(50, -500),\n        ]\n        for (let i = 0; i < 10; i++) {\n            let delay = i % 2;\n            delay = delay * 0.4\n            this.scheduleOnce(() => {\n\n                let bullet = cc.instantiate(this.skill1Pre);\n                bullet.parent = this.node.parent;\n                bullet.position = arrBullet[i].add(cc.v3(0, 100))\n                cc.tween(bullet).by(0.5, { position: cc.v3(0, -500) }).call(() => {\n                    if (bullet.getChildByName('explode')) {\n                        bullet.getComponent(cc.CircleCollider).enabled = false;\n                        bullet.stopAllActions();\n                        bullet.getChildByName('explode').active = true;\n                        // bullet.getChildByName('trail1').active = false;\n                        bullet.getChildByName('icon').active = false;\n                    }\n                }).start()\n            }, delay)\n\n        }\n        this.scheduleOnce(() => {\n            this.isSkill = false;\n            this.skill2()\n        }, 0.5)\n    \n    }\n    skill2() {\n        if (this.isSkill) return;\n        this.isSkill = true;\n        this.anim.play(\"skill2\");\n\n    }\n    completeEvent(type) {\n        this.isSkill = false;\n\n        switch (type) {\n            case \"skill2\":\n                // this.atkList();\n                this.skill1()\n                break;\n            case \"skill1\":\n                // this.atkList()\n                this.skill2()\n                break\n        }\n    }\n    addEvent(type) {\n        switch (type) {\n            case \"skill2\":\n                // this.skill2();\n                this.skill2Node.getComponent(cc.Animation).play()\n                break;\n            case \"skill1\":\n                this.skill1()\n                break\n        }\n    }\n   \n    exitTarget() {\n        this.isSkill = false\n        this.isMeet = false;\n        this.anim.play(\"idle\")\n        this.anim.unscheduleAllCallbacks();\n    }\n    update(dt: any): void {\n\n    }\n  \n}\n"]}