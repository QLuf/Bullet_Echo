{"version":3,"sources":["assets\\script\\house\\house.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAsC,4BAAY;IAAlD;QAAA,qEAkJC;QAhJG,YAAM,GAAY,IAAI,CAAC;QAEvB,YAAM,GAAY,IAAI,CAAC;QAEvB,kBAAY,GAAa,IAAI,CAAA;QAE7B,UAAI,GAAY,IAAI,CAAA;QAEpB,UAAI,GAAY,IAAI,CAAA;QAEpB,UAAI,GAAY,IAAI,CAAA;QAEpB,UAAI,GAAY,IAAI,CAAA;QAEpB,YAAM,GAAY,IAAI,CAAC;QAEvB,cAAQ,GAAG,CAAC,CAAA;QACZ,iBAAW,GAAG,EAAE,CAAA;QAChB,cAAQ,GAAG,IAAI,CAAA;QACf,YAAM,GAAG,CAAC,CAAC;QACX,cAAQ,GAAG,KAAK,CAAA;;IA4HpB,CAAC;IA3HG,wBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;IACD,8BAAW,GAAX;QAEI,IAAI,IAAI,CAAC,QAAQ;YAAE,OAAO;QAC1B,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YAC/E,qCAAqC;YACrC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;YAC3C,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;SACvB;aACI,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACpF,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;YAC9B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;SAEvB;aACI,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACpF,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;YAC9B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;SAEvB;aACI,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACpF,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;YAC9B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;SAEvB;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAA;SACpC;IACL,CAAC;IACD,8BAAW,GAAX;QACI,IAAI,CAAC,WAAW,EAAE,CAAA;QAClB,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QACvD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAA;QACjE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAA;QAC1B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC,KAAK,EAAE,CAAA;IAC9D,CAAC;IACD,8BAAW,GAAX;QAAA,iBAkEC;QAjEG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAA;QAClC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;YACxB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;YACrB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;YACjB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAA;YACxB,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;gBACvB,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAA;gBACjD,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAA;YACzB,CAAC,EAAE,GAAG,CAAC,CAAA;YACP,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;YAC7B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;SACxB;aACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YACzB,+CAA+C;YAC/C,gEAAgE;YAChE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;YAClC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAElB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;gBACvB,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAA;gBACjD,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAA;YACzB,CAAC,EAAE,GAAG,CAAC,CAAA;YACP,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,GAAG,GAAG,CAAA;SAExD;aACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;YAElC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,GAAG,GAAG,CAAA;YACrD,qDAAqD;YACrD,+CAA+C;YAE/C,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;YAExB,gEAAgE;YAChE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;YACjB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAA;YACtB,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;gBACvB,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAA;gBACjD,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAA;YACzB,CAAC,EAAE,GAAG,CAAC,CAAA;SACV;aACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;YAElC,+CAA+C;YAC/C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,GAAG,GAAG,CAAA;YACrD,gEAAgE;YAChE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;YACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;YACvB,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;gBACvB,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAA;gBACjD,4BAA4B;gBAC5B,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAA;YACzB,CAAC,EAAE,GAAG,CAAC,CAAA;SACV;IACL,CAAC;IACD,+BAAY,GAAZ;QACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,EAAE,EAAE;YAC7C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAA;SACpC;aACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,GAAG,EAAE;YACnD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAA;SACpC;aACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,GAAG,EAAE;YAEnD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAA;SACpC;IACL,CAAC;IACS,yBAAM,GAAhB,UAAiB,EAAU;QACvB,IAAI,CAAC,YAAY,EAAE,CAAA;IACvB,CAAC;IA/ID;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACU;IAE7B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACE;IAEpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACE;IAEpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACE;IAEpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACE;IAEpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAhBN,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAkJ5B;IAAD,eAAC;CAlJD,AAkJC,CAlJqC,EAAE,CAAC,SAAS,GAkJjD;kBAlJoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Node)\n    house1: cc.Node = null;\n    @property(cc.Node)\n    house2: cc.Node = null;\n    @property(cc.Label)\n    currentLabel: cc.Label = null\n    @property(cc.Node)\n    pop1: cc.Node = null\n    @property(cc.Node)\n    pop2: cc.Node = null\n    @property(cc.Node)\n    pop3: cc.Node = null\n    @property(cc.Node)\n    pop4: cc.Node = null\n    @property(cc.Node)\n    circle: cc.Node = null;\n\n    isUpdate = 0\n    valueUpdate = 10\n    gamePlay = null\n    isStep = 0;\n    isMoving = false\n    start() {\n        this.gamePlay = cc.Canvas.instance.node.getComponent(\"Game21\");\n    }\n    checkUpdate() {\n\n        if (this.isMoving) return;\n        if (globalThis.wood >= this.valueUpdate && this.isUpdate == 0 && this.isStep == 0) {\n            // this.updateHouse(this.valueUpdate)\n            this.gamePlay.updateHouse(this.valueUpdate)\n            this.isStep = 1;\n            this.isMoving = true\n        }\n        else if (globalThis.gold >= this.valueUpdate && this.isUpdate == 1 && this.isStep == 1) {\n            this.gamePlay.updateHouse2(20)\n            this.isStep = 2;\n            this.isMoving = true\n\n        }\n        else if (globalThis.gold >= this.valueUpdate && this.isUpdate == 2 && this.isStep == 2) {\n            this.gamePlay.updateHouse2(20)\n            this.isStep = 3;\n            this.isMoving = true\n\n        }\n        else if (globalThis.gold >= this.valueUpdate && this.isUpdate == 3 && this.isStep == 3) {\n            this.gamePlay.updateHouse2(20)\n            this.isStep = 4;\n            this.isMoving = true\n\n        }\n        else {\n            this.gamePlay.heroComp.showNoti()\n        }\n    }\n    updateValue() {\n        this.valueUpdate--\n        this.currentLabel.string = this.valueUpdate.toString();\n        let fill = this.pop1.getChildByName(\"bg\").getComponent(cc.Sprite)\n        let check = fill.fillRange\n        cc.tween(fill).to(0.1, { fillRange: check + 0.5 }).start()\n    }\n    updateHouse() {\n        this.gamePlay.arrow.active = false\n        if (this.isUpdate == 0) {\n            this.pop1.active = false\n            this.house1.active = false;\n            this.house2.active = true;\n            this.valueUpdate = 80\n            this.isUpdate = 1\n            this.circle.scale = 0.22\n            this.scheduleOnce(() => {\n                this.pop2.active = true\n                cc.tween(this.pop2).to(0.3, { scale: 1 }).start()\n                this.pop1 = this.pop2\n            }, 0.5)\n            this.gamePlay.spawEnemies(30)\n            this.isMoving = false\n        }\n        else if (this.isUpdate == 1) {\n            // this.gamePlay.listCard.children[0].scale = 1\n            // this.gamePlay.listCard.children[0].children[0].active = true;\n            this.gamePlay.btn_Claim(null, \"2\")\n            this.pop2.active = false;\n            this.isUpdate = 2;\n\n            this.valueUpdate = 150;\n            this.scheduleOnce(() => {\n                this.pop3.active = true\n                cc.tween(this.pop3).to(0.3, { scale: 1 }).start()\n                this.pop1 = this.pop3\n            }, 0.5)\n            this.gamePlay.arrow.getComponent(\"arrow\").param = 130\n\n        }\n        else if (this.isUpdate == 2) {\n            this.gamePlay.btn_Claim(null, \"4\")\n\n            this.gamePlay.arrow.getComponent(\"arrow\").param = 180\n            // this.gamePlay.listCard.scale=this.gamePlay.isScale\n            // this.gamePlay.listCard.children[0].scale = 1\n\n            this.pop3.active = false\n\n            // this.gamePlay.listCard.children[0].children[1].active = true;\n            this.isUpdate = 3\n            this.valueUpdate = 500\n            this.scheduleOnce(() => {\n                this.pop4.active = true\n                cc.tween(this.pop4).to(0.3, { scale: 1 }).start()\n                this.pop1 = this.pop4\n            }, 0.5)\n        }\n        else if (this.isUpdate == 3) {\n            this.gamePlay.btn_Claim(null, \"1\")\n\n            // this.gamePlay.listCard.children[0].scale = 1\n            this.gamePlay.arrow.getComponent(\"arrow\").param = 200\n            // this.gamePlay.listCard.children[0].children[2].active = true;\n            this.isUpdate = 4\n            this.valueUpdate = 1000\n            this.scheduleOnce(() => {\n                this.pop4.active = true\n                cc.tween(this.pop4).to(0.3, { scale: 1 }).start()\n                // this.gamePlay.onEndGame()\n                this.pop1 = this.pop4\n            }, 0.5)\n        }\n    }\n    checkSuccess() {\n        if (this.isUpdate == 1 && globalThis.gold >= 80) {\n            this.gamePlay.arrow.active = true\n        }\n        else if (this.isUpdate == 2 && globalThis.gold >= 150) {\n            this.gamePlay.arrow.active = true\n        }\n        else if (this.isUpdate == 3 && globalThis.gold >= 500) {\n\n            this.gamePlay.arrow.active = true\n        }\n    }\n    protected update(dt: number): void {\n        this.checkSuccess()\n    }\n}\n"]}